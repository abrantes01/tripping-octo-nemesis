
this.Handlebars=(function(){var __module3__=(function(){"use strict";var __exports__;function SafeString(string){this.string=string;}
SafeString.prototype.toString=function(){return""+this.string;};__exports__=SafeString;return __exports__;})();var __module2__=(function(__dependency1__){"use strict";var __exports__={};var SafeString=__dependency1__;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]||"&amp;";}
function extend(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(Object.prototype.hasOwnProperty.call(arguments[i],key)){obj[key]=arguments[i][key];}}}
return obj;}
__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value==='function';};if(isFunction(/x/)){isFunction=function(value){return typeof value==='function'&&toString.call(value)==='[object Function]';};}
var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return(value&&typeof value==='object')?toString.call(value)==='[object Array]':false;};__exports__.isArray=isArray;function escapeExpression(string){if(string instanceof SafeString){return string.toString();}else if(!string&&string!==0){return"";}
string=""+string;if(!possible.test(string)){return string;}
return string.replace(badChars,escapeChar);}
__exports__.escapeExpression=escapeExpression;function isEmpty(value){if(!value&&value!==0){return true;}else if(isArray(value)&&value.length===0){return true;}else{return false;}}
__exports__.isEmpty=isEmpty;function appendContextPath(contextPath,id){return(contextPath?contextPath+'.':'')+id;}
__exports__.appendContextPath=appendContextPath;return __exports__;})(__module3__);var __module4__=(function(){"use strict";var __exports__;var errorProps=['description','fileName','lineNumber','message','name','number','stack'];function Exception(message,node){var line;if(node&&node.firstLine){line=node.firstLine;message+=' - '+line+':'+node.firstColumn;}
var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]];}
if(line){this.lineNumber=line;this.column=node.firstColumn;}}
Exception.prototype=new Error();__exports__=Exception;return __exports__;})();var __module1__=(function(__dependency1__,__dependency2__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var VERSION="2.0.0-alpha.4";__exports__.VERSION=VERSION;var COMPILER_REVISION=5;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:'<= 1.0.rc.2',2:'== 1.0.0-rc.3',3:'== 1.0.0-rc.4',4:'== 1.x.x',5:'>= 2.0.0'};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType='[object Object]';function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this);}
__exports__.HandlebarsEnvironment=HandlebarsEnvironment;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Exception('Arg not supported with multiple helpers');}
Utils.extend(this.helpers,name);}else{if(inverse){fn.not=inverse;}
this.helpers[name]=fn;}},unregisterHelper:function(name){delete this.helpers[name];},registerPartial:function(name,str){if(toString.call(name)===objectType){Utils.extend(this.partials,name);}else{this.partials[name]=str;}},unregisterPartial:function(name){delete this.partials[name];}};function registerDefaultHelpers(instance){instance.registerHelper('helperMissing',function(){if(arguments.length===1){return undefined;}else{throw new Exception("Missing helper: '"+arguments[arguments.length-1].name+"'");}});instance.registerHelper('blockHelperMissing',function(context,options){var inverse=options.inverse||function(){},fn=options.fn;if(isFunction(context)){context=context.call(this);}
if(context===true){return fn(this);}else if(context===false||context==null){return inverse(this);}else if(isArray(context)){if(context.length>0){if(options.ids){options.ids=[options.name];}
return instance.helpers.each(context,options);}else{return inverse(this);}}else{if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.name);options={data:data};}
return fn(context,options);}});instance.registerHelper('each',function(context,options){if(!options){options=context;context=this;}
var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;var contextPath;if(options.data&&options.ids){contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0])+'.';}
if(isFunction(context)){context=context.call(this);}
if(options.data){data=createFrame(options.data);}
if(context&&typeof context==='object'){if(isArray(context)){for(var j=context.length;i<j;i++){if(data){data.index=i;data.first=(i===0);data.last=(i===(context.length-1));if(contextPath){data.contextPath=contextPath+i;}}
ret=ret+fn(context[i],{data:data});}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key;data.index=i;data.first=(i===0);if(contextPath){data.contextPath=contextPath+key;}}
ret=ret+fn(context[key],{data:data});i++;}}}}
if(i===0){ret=inverse(this);}
return ret;});instance.registerHelper('if',function(conditional,options){if(isFunction(conditional)){conditional=conditional.call(this);}
if((!options.hash.includeZero&&!conditional)||Utils.isEmpty(conditional)){return options.inverse(this);}else{return options.fn(this);}});instance.registerHelper('unless',function(conditional,options){return instance.helpers['if'].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash});});instance.registerHelper('with',function(context,options){if(isFunction(context)){context=context.call(this);}
var fn=options.fn;if(!Utils.isEmpty(context)){if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0]);options={data:data};}
return fn(context,options);}});instance.registerHelper('log',function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context);});instance.registerHelper('lookup',function(obj,field,options){return obj&&obj[field];});}
var logger={methodMap:{0:'debug',1:'info',2:'warn',3:'error'},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];if(typeof console!=='undefined'&&console[method]){console[method].call(console,obj);}}}};__exports__.logger=logger;function log(level,obj){logger.log(level,obj);}
__exports__.log=log;var createFrame=function(object){var frame=Utils.extend({},object);frame._parent=object;return frame;};__exports__.createFrame=createFrame;return __exports__;})(__module2__,__module4__);var __module5__=(function(__dependency1__,__dependency2__,__dependency3__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var COMPILER_REVISION=__dependency3__.COMPILER_REVISION;var REVISION_CHANGES=__dependency3__.REVISION_CHANGES;var createFrame=__dependency3__.createFrame;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").");}else{throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").");}}}
__exports__.checkRevision=checkRevision;function template(templateSpec,env){if(!env){throw new Exception("No environment passed to template");}
env.VM.checkRevision(templateSpec.compiler);var invokePartialWrapper=function(partial,name,context,hash,helpers,partials,data){if(hash){context=Utils.extend({},context,hash);}
var result=env.VM.invokePartial.call(this,partial,name,context,helpers,partials,data);if(result!=null){return result;}
if(env.compile){var options={helpers:helpers,partials:partials,data:data};partials[name]=env.compile(partial,{data:data!==undefined},env);return partials[name](context,options);}else{throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode");}};var container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){return templateSpec[i];},programs:[],program:function(i,data){var programWrapper=this.programs[i],fn=this.fn(i);if(data){programWrapper=program(this,i,fn,data);}else if(!programWrapper){programWrapper=this.programs[i]=program(this,i,fn);}
return programWrapper;},programWithDepth:env.VM.programWithDepth,data:function(data,depth){while(data&&depth--){data=data._parent;}
return data;},merge:function(param,common){var ret=param||common;if(param&&common&&(param!==common)){ret=Utils.extend({},common,param);}
return ret;},noop:env.VM.noop,compilerInfo:templateSpec.compiler};var ret=function(context,options){options=options||{};var helpers,partials,data=options.data;ret._setup(options);if(!options.partial&&templateSpec.useData){data=initData(context,data);}
return templateSpec.main.call(container,context,container.helpers,container.partials,data);};ret._setup=function(options){if(!options.partial){container.helpers=container.merge(options.helpers,env.helpers);if(templateSpec.usePartial){container.partials=container.merge(options.partials,env.partials);}}else{container.helpers=options.helpers;container.partials=options.partials;}};ret._child=function(i){return container.programWithDepth(i);};return ret;}
__exports__.template=template;function programWithDepth(i,data){var args=Array.prototype.slice.call(arguments,2),container=this,fn=container.fn(i);var prog=function(context,options){options=options||{};return fn.apply(container,[context,container.helpers,container.partials,options.data||data].concat(args));};prog.program=i;prog.depth=args.length;return prog;}
__exports__.programWithDepth=programWithDepth;function program(container,i,fn,data){var prog=function(context,options){options=options||{};return fn.call(container,context,container.helpers,container.partials,options.data||data);};prog.program=i;prog.depth=0;return prog;}
__exports__.program=program;function invokePartial(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Exception("The partial "+name+" could not be found");}else if(partial instanceof Function){return partial(context,options);}}
__exports__.invokePartial=invokePartial;function noop(){return"";}
__exports__.noop=noop;function initData(context,data){if(!data||!('root'in data)){data=data?createFrame(data):{};data.root=context;}
return data;}
return __exports__;})(__module2__,__module4__,__module1__);var __module0__=(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__;var base=__dependency1__;var SafeString=__dependency2__;var Exception=__dependency3__;var Utils=__dependency4__;var runtime=__dependency5__;var create=function(){var hb=new base.HandlebarsEnvironment();Utils.extend(hb,base);hb.SafeString=SafeString;hb.Exception=Exception;hb.Utils=Utils;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb);};return hb;};var Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__;})(__module1__,__module3__,__module4__,__module2__,__module5__);return __module0__;})();;
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates['crossSell']=template({"1":function(depth0,helpers,partials,data){var stack1,helper,options,functionType="function",blockHelperMissing=helpers.blockHelperMissing;stack1=((helper=helpers.saleUrl||(depth0&&depth0.saleUrl)),(options={"name":"saleUrl","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}),(typeof helper===functionType?helper.call(depth0,options):helper));if(!helpers.saleUrl){stack1=blockHelperMissing.call(depth0,stack1,options);}
if(stack1||stack1===0){return stack1;}
else{return'';}},"2":function(depth0,helpers,partials,data){return"";},"4":function(depth0,helpers,partials,data){return"\n                                <div class=\"ribbon ribbon-black\">\n                            ";},"6":function(depth0,helpers,partials,data){return"\n                                <div class=\"ribbon\">\n                            ";},"8":function(depth0,helpers,partials,data){return"\n                            <span class=\"sale-interstice clearfix\"></span>\n                        ";},"10":function(depth0,helpers,partials,data){return"\n                            <span class=\"clearfix\">&nbsp;</span>\n                        ";},"12":function(depth0,helpers,partials,data){var helper,functionType="function",escapeExpression=this.escapeExpression;return"<span class=\"icon-"
+escapeExpression(((helper=helpers.ribbon||(depth0&&depth0.ribbon)),(typeof helper===functionType?helper.call(depth0,{"name":"ribbon","hash":{},"data":data}):helper)))
+"\"></span>";},"compiler":[5,">= 2.0.0"],"main":function(depth0,helpers,partials,data){var stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,blockHelperMissing=helpers.blockHelperMissing,buffer="             <article class=\"sale\" id=\"sale_"
+escapeExpression(((stack1=((stack1=(depth0&&depth0.sale)),stack1==null||stack1===false?stack1:stack1.id)),typeof stack1===functionType?stack1.apply(depth0):stack1))
+"\">\n                    <a ";stack1=helpers.unless.call(depth0,(depth0&&depth0.isNext),{"name":"unless","hash":{},"fn":this.program(1,data),"inverse":this.noop,"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="  title=\""
+escapeExpression(((stack1=((stack1=(depth0&&depth0.sale)),stack1==null||stack1===false?stack1:stack1.title)),typeof stack1===functionType?stack1.apply(depth0):stack1))
+"\"\n                    class=\" reload-sdv vpTrackClick\"\n                    ga-tracker=\"See our other sales\"\n                    ga-action=\"Showroom / Product page\"\n                    ga-label=\""
+escapeExpression(((stack1=((stack1=(depth0&&depth0.sale)),stack1==null||stack1===false?stack1:stack1.title)),typeof stack1===functionType?stack1.apply(depth0):stack1))
+"\"\n                    ea-action=\"OtherSalesProductPage\"\n                    >\n                         <figure class=\"sale-figure\">\n                           <img class=\"sale-image\" src=\"";stack1=(helper=helpers.dynamicPathPicture||(depth0&&depth0.dynamicPathPicture)||helperMissing,helper.call(depth0,((stack1=(depth0&&depth0.frontvpg)),stack1==null||stack1===false?stack1:stack1.defaultRatioImage),((stack1=(depth0&&depth0.sale)),stack1==null||stack1===false?stack1:stack1.main_image),{"name":"dynamicPathPicture","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="\" alt=\"\" onerror=\"sale.src = frontvpg.dynamicPath(frontvpg.defaultRatioImage, frontvpg.defaultImg)\" />\n\n                            <figcaption>\n                                <p>\n                                    <i class=\"icon-time\"></i>\n                                    <span class=\"time\">";stack1=(helper=helpers.saleSchedule||(depth0&&depth0.saleSchedule)||helperMissing,helper.call(depth0,(depth0&&depth0.isNext),true,{"name":"saleSchedule","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</span>\n                                </p>\n                            </figcaption>\n                            ";stack1=helpers['if'].call(depth0,(depth0&&depth0.isNext),{"name":"if","hash":{},"fn":this.program(4,data),"inverse":this.program(6,data),"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="\n                                <div class=\"triangle-bottomright\"></div>\n                                <strong class=\"ribbon-content\">\n                                  ";stack1=((helper=helpers.handleRibbon||(depth0&&depth0.handleRibbon)),(options={"name":"handleRibbon","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}),(typeof helper===functionType?helper.call(depth0,options):helper));if(!helpers.handleRibbon){stack1=blockHelperMissing.call(depth0,stack1,options);}
if(stack1||stack1===0){buffer+=stack1;}
buffer+="\n                                </strong>\n                              <div class = \"ruban-stitches-bottom\"></div>\n                            </div>\n                        </figure>\n                        <span class=\"sale-destination\">";stack1=((helper=helpers.displayTitle||(depth0&&depth0.displayTitle)),(options={"name":"displayTitle","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}),(typeof helper===functionType?helper.call(depth0,options):helper));if(!helpers.displayTitle){stack1=blockHelperMissing.call(depth0,stack1,options);}
if(stack1||stack1===0){buffer+=stack1;}
buffer+="</span>\n                        <span class=\"sale-name\">";stack1=((helper=helpers.displayTitleSale||(depth0&&depth0.displayTitleSale)),(options={"name":"displayTitleSale","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}),(typeof helper===functionType?helper.call(depth0,options):helper));if(!helpers.displayTitleSale){stack1=blockHelperMissing.call(depth0,stack1,options);}
if(stack1||stack1===0){buffer+=stack1;}
buffer+="</span>\n                        <span class=\"hotel-name\">"
+escapeExpression(((helper=helpers.nom_hotel||(depth0&&depth0.nom_hotel)),(typeof helper===functionType?helper.call(depth0,{"name":"nom_hotel","hash":{},"data":data}):helper)))
+"</span>\n                        ";stack1=helpers['if'].call(depth0,(depth0&&depth0.isNext),{"name":"if","hash":{},"fn":this.program(8,data),"inverse":this.program(10,data),"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="\n                        ";stack1=helpers['if'].call(depth0,(depth0&&depth0.ribbon),{"name":"if","hash":{},"fn":this.program(12,data),"inverse":this.noop,"data":data});if(stack1||stack1===0){buffer+=stack1;}
return buffer+"\n                    </a>\n                </article>\n";},"useData":true});templates['reviewComment']=template({"1":function(depth0,helpers,partials,data){var stack1,helper,options,helperMissing=helpers.helperMissing,functionType="function",blockHelperMissing=helpers.blockHelperMissing,buffer="\n      <div class=\"testimonial";stack1=helpers['if'].call(depth0,(depth0&&depth0.isLast),{"name":"if","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="\">\n        <div class=\"testimonial-left\">\n          <div class=\"testimonial-label\">";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_comment_title",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</div>\n          <div class=\"testimonial-score\">";stack1=(helper=helpers.math||(depth0&&depth0.math)||helperMissing,helper.call(depth0,((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.global_mark),"*",2,true,{"name":"math","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</div>\n        </div>\n        <div class=\"testimonial-right\">\n        ";stack1=helpers['if'].call(depth0,((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.has_comment),{"name":"if","hash":{},"fn":this.program(6,data),"inverse":this.program(13,data),"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="\n        <em>—</em>\n        <div class=\"testimonial-metas\">\n          <div class=\"testimonial-date\">";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_vpg_answer",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+=" ";stack1=(helper=helpers.dateFormat||(depth0&&depth0.dateFormat)||helperMissing,helper.call(depth0,((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.created_at),"dd/mm/yy",{"name":"dateFormat","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</div>\n          <div class=\"testimonial-author\">";stack1=((helper=helpers.getReviewAuthor||(depth0&&depth0.getReviewAuthor)),(options={"name":"getReviewAuthor","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}),(typeof helper===functionType?helper.call(depth0,options):helper));if(!helpers.getReviewAuthor){stack1=blockHelperMissing.call(depth0,stack1,options);}
if(stack1||stack1===0){buffer+=stack1;}
return buffer+"</div>\n        </div>\n      </div>\n      </div>\n    ";},"2":function(depth0,helpers,partials,data){return" last";},"4":function(depth0,helpers,partials,data){return"";},"6":function(depth0,helpers,partials,data){var stack1,helper,helperMissing=helpers.helperMissing,buffer="\n            <div class=\"row\">\n              <div class=\"testimonial-label\">";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_title_like",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</div>\n              <div class=\"testimonial-text\">\n                ";stack1=helpers['if'].call(depth0,((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.like_comment),{"name":"if","hash":{},"fn":this.program(7,data),"inverse":this.program(9,data),"data":data});if(stack1||stack1===0){buffer+=stack1;}
buffer+="\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"testimonial-label\">";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_title_unlike",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
buffer+="</div>\n              <div class=\"testimonial-text\">\n                ";stack1=helpers['if'].call(depth0,((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.dislike_comment),{"name":"if","hash":{},"fn":this.program(11,data),"inverse":this.program(9,data),"data":data});if(stack1||stack1===0){buffer+=stack1;}
return buffer+"\n              </div>\n            </div>\n        ";},"7":function(depth0,helpers,partials,data){var stack1,functionType="function",escapeExpression=this.escapeExpression;return"\n                  "
+escapeExpression(((stack1=((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.like_comment)),typeof stack1===functionType?stack1.apply(depth0):stack1))
+"\n                ";},"9":function(depth0,helpers,partials,data){var stack1,helper,helperMissing=helpers.helperMissing,buffer="\n                  ";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_withour_comment",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
return buffer+"\n                ";},"11":function(depth0,helpers,partials,data){var stack1,functionType="function",escapeExpression=this.escapeExpression;return"\n                  "
+escapeExpression(((stack1=((stack1=(depth0&&depth0.infra)),stack1==null||stack1===false?stack1:stack1.dislike_comment)),typeof stack1===functionType?stack1.apply(depth0):stack1))
+"\n                ";},"13":function(depth0,helpers,partials,data){var stack1,helper,helperMissing=helpers.helperMissing,buffer="\n          <div class=\"no-comment\">\n            <div>\n              ";stack1=(helper=helpers.getParams||(depth0&&depth0.getParams)||helperMissing,helper.call(depth0,"review_withour_comment",{"name":"getParams","hash":{},"fn":this.program(4,data),"inverse":this.noop,"data":data}));if(stack1||stack1===0){buffer+=stack1;}
return buffer+"\n            </div>\n          </div>\n        ";},"compiler":[5,">= 2.0.0"],"main":function(depth0,helpers,partials,data){var stack1,buffer="    ";stack1=helpers.each.call(depth0,(depth0&&depth0.currentArray),{"name":"each","hash":{},"fn":this.program(1,data),"inverse":this.noop,"data":data});if(stack1||stack1===0){buffer+=stack1;}
return buffer+"\n";},"useData":true});})();;
frontvpg.updateKillerDearPictures=function(){$(document.getElementById('killerDealContainer')).find('.rsImg').each(function(){var element=$(this);var desktopPath=$(this).attr('data-rsBigImg');var mobilePath=$(this).attr('data-rsTmb');if(mobilePath){if(frontvpg.targets.mobile){element.attr('src',mobilePath);}else{element.attr('src',desktopPath);}}});}
Handlebars.registerHelper('ifIsSaleSubscribe',function(options){return(this.isNext&&!frontvpg.salesCookie[this.sale_id])?options.inverse(this):options.fn(this);});Handlebars.registerHelper('subscribeKillerDealUrl',function()
{if(this.sale_id!=undefined)
{return'frontvpg.clickSubscribe('+this.sale_id+', this)';}
return'';});frontvpg.manageKillerDeal=function(){if(typeof killerDealData!="undefined"&&killerDealData.length>0){killerDealData.isSubscribeTrans=frontvpg.isSubscribe;killerDealData.headerSignTrans=frontvpg.headerSignTrans;var renderKillerDeal=Handlebars.templates['killerDealBlocks']({'killerDealBlocks':killerDealData});$(document.getElementById('killerDealContainer')).html(renderKillerDeal);frontvpg.initKillerDealPlugin();}};
!function($){$(function(){frontvpg.imagesServer='http://images{{ nb }}.bovpg.net';frontvpg.picturePath='/{{ format }}/back/fr/';frontvpg.defaultImg="load-img.png";frontvpg.flagTypes={"price":"<span>A partir de</span> %price&euro;","exclusive":"Exclusif",'saved up':"Réduction jusqu\'à %price&euro;",'pct':"- %percent %"};frontvpg.managePriceDisplay=function(browse_data,pctType){var flagContent=frontvpg.flagTypes[pctType];var priceFlagReturned={'price':'0','title':''};var flagContentSplit={};switch(pctType){case'price':flagContentSplit=flagContent.split('%price');priceFlagReturned={'price':''+numeral(browse_data.best_sale_price).format('0,00'),'titleBefore':(flagContentSplit[0]||''),'titleAfter':(flagContentSplit[1]||'')};break;case'saved up':flagContentSplit=flagContent.split('%price');priceFlagReturned={'price':''+numeral(browse_data.best_saved_up_price).format('0,00'),'titleBefore':(flagContentSplit[0]||''),'titleAfter':(flagContentSplit[1]||'')};break;case'pct':var percent=(typeof browse_data.percent==='undefined'||browse_data.percent=='0'||browse_data.percent==null)?browse_data.best_percent:browse_data.percent;flagContentSplit=flagContent.split('- %percent');priceFlagReturned={'price':'-'+percent,'titleBefore':(flagContentSplit[0]||''),'titleAfter':(flagContentSplit[1]||'')};break;default:priceFlagReturned={'price':flagContent,'titleBefore':'','titleAfter':''};break;}
return priceFlagReturned;}
frontvpg.isNextPart=function(obj,refDate){if(refDate===undefined){var d1=new Date();}else{var d1=new Date(refDate*1000);}
if(obj.isEvent){var d2=new Date(obj['start_date']*1000);}
if(obj.isThematique){var d2=new Date(obj['start_date']*1000);}
if(obj.isSale){var d2=new Date(obj['browse_data']['start_date']*1000);}
return(d1<d2);}});}(window.jQuery);
(function(){function a(a){this._value=a}function b(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function c(a,b,c){var d;return d=b.indexOf("$")>-1?e(a,b,c):b.indexOf("%")>-1?f(a,b,c):b.indexOf(":")>-1?g(a,b):i(a._value,b,c)}function d(a,b){var c,d,e,f,g,i=b,j=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=h(b);else if(b===q)a._value=0;else{for("."!==o[p].delimiters.decimal&&(b=b.replace(/\./g,"").replace(o[p].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+o[p].abbreviations.thousand+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+o[p].abbreviations.million+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+o[p].abbreviations.billion+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+o[p].abbreviations.trillion+"(?:\\)|(\\"+o[p].currency.symbol+")?(?:\\))?)?$"),g=0;g<=j.length&&!(k=b.indexOf(j[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(i.match(c)?Math.pow(10,3):1)*(i.match(d)?Math.pow(10,6):1)*(i.match(e)?Math.pow(10,9):1)*(i.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function e(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),j="";return b.indexOf(" $")>-1?(j=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(j=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=i(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,o[p].currency.symbol+j),e=e.join("")):e=o[p].currency.symbol+j+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,j+o[p].currency.symbol),e=e.join("")):e=e+j+o[p].currency.symbol,e}function f(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=i(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function g(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function h(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function i(a,c,d){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",r=!1,s=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==q)return q;if(c.indexOf("(")>-1?(k=!0,c=c.slice(1,-1)):c.indexOf("+")>-1&&(l=!0,c=c.replace(/\+/g,"")),c.indexOf("a")>-1&&(r=c.indexOf("aK")>=0,s=c.indexOf("aM")>=0,t=c.indexOf("aB")>=0,u=c.indexOf("aT")>=0,v=r||s||t||u,c.indexOf(" a")>-1?(n=" ",c=c.replace(" a","")):c=c.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=o[p].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=o[p].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||s?(n+=o[p].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||r)&&(n+=o[p].abbreviations.thousand,a/=Math.pow(10,3))),c.indexOf("b")>-1)for(c.indexOf(" b")>-1?(w=" ",c=c.replace(" b","")):c=c.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return c.indexOf("o")>-1&&(c.indexOf(" o")>-1?(x=" ",c=c.replace(" o","")):c=c.replace("o",""),x+=o[p].ordinal(a)),c.indexOf("[.]")>-1&&(m=!0,c=c.replace("[.]",".")),h=a.toString().split(".")[0],i=c.split(".")[1],j=c.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=b(a,i[0].length+i[1].length,d,i[1].length)):A=b(a,i.length,d),h=A.split(".")[0],A=A.split(".")[1].length?o[p].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=b(a,null,d),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o[p].delimiters.thousands)),0===c.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function j(a,b){o[a]=b}function k(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function l(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=k(a),d=k(b);return c>d?c:d},-1/0)}var m,n="1.5.3",o={},p="en",q=null,r="0,0",s="undefined"!=typeof module&&module.exports;m=function(b){return m.isNumeral(b)?b=b.value():0===b||"undefined"==typeof b?b=0:Number(b)||(b=m.fn.unformat(b)),new a(Number(b))},m.version=n,m.isNumeral=function(b){return b instanceof a},m.language=function(a,b){if(!a)return p;if(a&&!b){if(!o[a])throw new Error("Unknown language : "+a);p=a}return(b||!o[a])&&j(a,b),m},m.languageData=function(a){if(!a)return o[p];if(!o[a])throw new Error("Unknown language : "+a);return o[a]},m.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),m.zeroFormat=function(a){q="string"==typeof a?a:null},m.defaultFormat=function(a){r="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),m.fn=a.prototype={clone:function(){return m(this)},format:function(a,b){return c(this,a?a:r,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:d(this,a?a:r)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b){return a+c*b}var c=l.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b){return a-c*b}var c=l.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b){var c=l(a,b);return a*c*b*c/(c*c)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b){var c=l(a,b);return a*c/(b*c)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(m(this._value).subtract(a).value())}},s&&(module.exports=m),"undefined"==typeof ender&&(this.numeral=m),"function"==typeof define&&define.amd&&define([],function(){return m})}).call(this);;
(function(l){function t(b,f){var c,g,a=this,e=navigator.userAgent.toLowerCase();a.uid=l.rsModules.uid++;a.ns=".rs"+a.uid;var d=document.createElement("div").style,j=["webkit","Moz","ms","O"],h="",k=0;for(c=0;c<j.length;c++)g=j[c],!h&&g+"Transform"in d&&(h=g),g=g.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[g+"RequestAnimationFrame"],window.cancelAnimationFrame=window[g+"CancelAnimationFrame"]||window[g+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-k)),d=window.setTimeout(function(){a(b+c)},c);k=b+c;return d});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});a.isIPAD=e.match(/(ipad)/);j=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];c=j[1]||"";g=j[2]||"0";j={};c&&(j[c]=!0,j.version=g);j.chrome&&(j.webkit=!0);a._a=j;a.isAndroid=-1<e.indexOf("android");a.slider=l(b);a.ev=l(a);a._b=l(document);a.st=l.extend({},l.fn.royalSlider.defaults,f);a._c=a.st.transitionSpeed;a._d=0;if(a.st.allowCSS3&&(!j.webkit||a.st.allowCSS3OnWebkit))e=h+(h?"T":"t"),a._e=e+"ransform"in d&&e+"ransition"in d,a._e&&(a._f=h+(h?"P":"p")+"erspective"in d);h=h.toLowerCase();a._g="-"+h+"-";a._h="vertical"===a.st.slidesOrientation?!1:!0;a._i=a._h?"left":"top";a._j=a._h?"width":"height";a._k=-1;a._l="fade"===a.st.transitionType?!1:!0;a._l||(a.st.sliderDrag=!1,a._m=10);a._n="z-index:0; display:none; opacity:0;";a._o=0;a._p=0;a._q=0;l.each(l.rsModules,function(b,c){"uid"!==b&&c.call(a)});a.slides=[];a._r=0;(a.st.slides?l(a.st.slides):a.slider.children().detach()).each(function(){a._s(this,!0)});a.st.randomizeSlides&&a.slides.sort(function(){return 0.5-Math.random()});a.numSlides=a.slides.length;a._t();a.st.startSlideId?a.st.startSlideId>a.numSlides-1&&(a.st.startSlideId=a.numSlides-
1):a.st.startSlideId=0;a._o=a.staticSlideId=a.currSlideId=a._u=a.st.startSlideId;a.currSlide=a.slides[a.currSlideId];a._v=0;a.msTouch=!1;a.slider.addClass((a._h?"rsHor":"rsVer")+(a._l?"":" rsFade"));d='<div class="rsOverflow"><div class="rsContainer">';a.slidesSpacing=a.st.slidesSpacing;a._w=(a._h?a.slider.width():a.slider.height())+a.st.slidesSpacing;a._x=Boolean(0<a._y);1>=a.numSlides&&(a._z=!1);a._a1=a._z&&a._l?2===a.numSlides?1:2:0;a._b1=6>a.numSlides?a.numSlides:6;a._c1=0;a._d1=0;a.slidesJQ=[];for(c=0;c<a.numSlides;c++)a.slidesJQ.push(l('<div style="'+(a._l?"":c!==a.currSlideId?a._n:"z-index:0;")+'" class="rsSlide "></div>'));a._e1=d=l(d+"</div></div>");h=a.ns;a.msEnabled=window.navigator.msPointerEnabled;a.msEnabled?(a.msTouch=Boolean(1<window.navigator.msMaxTouchPoints),a.hasTouch=!1,a._n1=0.2,a._j1="MSPointerDown"+h,a._k1="MSPointerMove"+h,a._l1="MSPointerUp"+h,a._m1="MSPointerCancel"+h):(a._j1="mousedown"+h,a._k1="mousemove"+h,a._l1="mouseup"+h,a._m1="mouseup"+h,"ontouchstart"in
window||"createTouch"in document?(a.hasTouch=!0,a._j1+=" touchstart"+h,a._k1+=" touchmove"+h,a._l1+=" touchend"+h,a._m1+=" touchcancel"+h,a._n1=0.5,a.st.sliderTouch&&(a._f1=!0)):(a.hasTouch=!1,a._n1=0.2));a.st.sliderDrag&&(a._f1=!0,j.msie||j.opera?a._g1=a._h1="move":j.mozilla?(a._g1="-moz-grab",a._h1="-moz-grabbing"):j.webkit&&-1!=navigator.platform.indexOf("Mac")&&(a._g1="-webkit-grab",a._h1="-webkit-grabbing"),a._i1());a.slider.html(d);a._o1=a.st.controlsInside?a._e1:a.slider;a._p1=a._e1.children(".rsContainer");a.msEnabled&&a._p1.css("-ms-touch-action",a._h?"pan-y":"pan-x");a._q1=l('<div class="rsPreloader"></div>');d=a._p1.children(".rsSlide");a._r1=a.slidesJQ[a.currSlideId];a._s1=0;a._e?(a._t1="transition-property",a._u1="transition-duration",a._v1="transition-timing-function",a._w1=a._x1=a._g+"transform",a._f?(j.webkit&&!j.chrome&&a.slider.addClass("rsWebkit3d"),/iphone|ipad|ipod/gi.test(navigator.appVersion),a._y1="translate(",a._z1="px, ",a._a2="px)"):(a._y1="translate(",a._z1="px, ",a._a2="px)"),a._l?a._p1[a._g+a._t1]=a._g+"transform":(h={},h[a._g+a._t1]="opacity",h[a._g+a._u1]=a.st.transitionSpeed+"ms",h[a._g+a._v1]=a.st.css3easeInOut,d.css(h))):(a._x1="left",a._w1="top");var n;l(window).on("resize"+a.ns,function(){n&&clearTimeout(n);n=setTimeout(function(){a.updateSliderSize()},50)});a.ev.trigger("rsAfterPropsSetup");a.updateSliderSize();a.st.keyboardNavEnabled&&a._b2();if(a.st.arrowsNavHideOnTouch&&(a.hasTouch||a.msTouch))a.st.arrowsNav=!1;a.st.arrowsNav&&(d=a._o1,l('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(d),a._c2=d.children(".rsArrowLeft").click(function(b){b.preventDefault();a.prev()}),a._d2=d.children(".rsArrowRight").click(function(b){b.preventDefault();a.next()}),a.st.arrowsNavAutoHide&&!a.hasTouch&&(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"),d.one("mousemove.arrowshover",function(){a._c2.removeClass("rsHidden");a._d2.removeClass("rsHidden")}),d.hover(function(){a._e2||(a._c2.removeClass("rsHidden"),a._d2.removeClass("rsHidden"))},function(){a._e2||(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"))})),a.ev.on("rsOnUpdateNav",function(){a._f2()}),a._f2());if(a._f1)a._p1.on(a._j1,function(b){a._g2(b)});else a.dragSuccess=!1;var m=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];a._p1.click(function(b){if(!a.dragSuccess){var c=l(b.target).attr("class");if(-1!==l.inArray(c,m)&&a.toggleVideo())return!1;if(a.st.navigateByClick&&!a._h2){if(l(b.target).closest(".rsNoDrag",a._r1).length)return!0;a._i2(b)}a.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){if(a.dragSuccess)return!1;a._h2=!0;setTimeout(function(){a._h2=!1},3)});a.ev.trigger("rsAfterInit")}l.rsModules||(l.rsModules={uid:0});t.prototype={constructor:t,_i2:function(b){b=b[this._h?"pageX":"pageY"]-this._j2;b>=this._q?this.next():0>b&&this.prev()},_t:function(){var b;b=this.st.numImagesToPreload;if(this._z=this.st.loop)2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1);this._z&&0<b&&(4>=this.numSlides?b=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(b=Math.floor((this.numSlides-
1)/2)));this._y=b},_s:function(b,f){function c(a,b){b?e.images.push(a.attr(b)):e.images.push(a.text());if(j){j=!1;e.caption="src"===b?a.attr("alt"):a.contents();e.image=e.images[0];e.videoURL=a.attr("data-rsVideo");var c=a.attr("data-rsw"),d=a.attr("data-rsh");"undefined"!==typeof c&&!1!==c&&"undefined"!==typeof d&&!1!==d?(e.iW=parseInt(c,10),e.iH=parseInt(d,10)):g.st.imgWidth&&g.st.imgHeight&&(e.iW=g.st.imgWidth,e.iH=g.st.imgHeight)}}var g=this,a,e={},d,j=!0;b=l(b);g._k2=b;g.ev.trigger("rsBeforeParseNode",[b,e]);if(!e.stopParsing)return b=g._k2,e.id=g._r,e.contentAdded=!1,g._r++,e.images=[],e.isBig=!1,e.hasCover||(b.hasClass("rsImg")?(d=b,a=!0):(d=b.find(".rsImg"),d.length&&(a=!0)),a?(e.bigImage=d.eq(0).attr("data-rsBigImg"),d.each(function(){var a=l(this);a.is("a")?c(a,"href"):a.is("img")?c(a,"src"):c(a)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),c(b,"src"))),d=b.find(".rsCaption"),d.length&&(e.caption=d.remove()),e.content=b,g.ev.trigger("rsAfterParseNode",[b,e]),f&&g.slides.push(e),0===e.images.length&&(e.isLoaded=!0,e.isRendered=!1,e.isLoading=!1,e.images=null),e},_b2:function(){var b=this,f,c,g=function(a){37===a?b.prev():39===a&&b.next()};b._b.on("keydown"+b.ns,function(a){if(!b._l2&&(c=a.keyCode,(37===c||39===c)&&!f))g(c),f=setInterval(function(){g(c)},700)}).on("keyup"+b.ns,function(){f&&(clearInterval(f),f=null)})},goTo:function(b,f){b!==this.currSlideId&&this._m2(b,this.st.transitionSpeed,!0,!f)},destroy:function(b){this.ev.trigger("rsBeforeDestroy");this._b.off("keydown"+
this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1);this._p1.off(this._j1+" click");this.slider.data("royalSlider",null);l.removeData(this.slider,"royalSlider");l(window).off("resize"+this.ns);b&&this.slider.remove();this.ev=this.slider=this.slides=null},_n2:function(b,f){function c(c,e,f){c.isAdded?(g(e,c),a(e,c)):(f||(f=d.slidesJQ[e]),c.holder?f=c.holder:(f=d.slidesJQ[e]=l(f),c.holder=f),c.appendOnLoaded=!1,a(e,c,f),g(e,c),d._p2(c,f,b),c.isAdded=!0)}function g(a,c){c.contentAdded||(d.setItemHtml(c,b),b||(c.contentAdded=!0))}function a(a,b,c){d._l&&(c||(c=d.slidesJQ[a]),c.css(d._i,(a+d._d1+p)*d._w))}function e(a){if(k){if(a>n-1)return e(a-n);if(0>a)return e(n+a)}return a}var d=this,j,h,k=d._z,n=d.numSlides;if(!isNaN(f))return e(f);var m=d.currSlideId,p,q=b?Math.abs(d._o2-d.currSlideId)>=d.numSlides-1?0:1:d._y,r=Math.min(2,q),u=!1,t=!1,s;for(h=m;h<m+1+r;h++)if(s=e(h),(j=d.slides[s])&&(!j.isAdded||!j.positionSet)){u=!0;break}for(h=m-1;h>m-1-r;h--)if(s=e(h),(j=d.slides[s])&&(!j.isAdded||!j.positionSet)){t=!0;break}if(u)for(h=m;h<m+q+1;h++)s=e(h),p=Math.floor((d._u-(m-h))/d.numSlides)*d.numSlides,(j=d.slides[s])&&c(j,s);if(t)for(h=m-1;h>m-1-q;h--)s=e(h),p=Math.floor((d._u-(m-h))/n)*n,(j=d.slides[s])&&c(j,s);if(!b){r=e(m-q);m=e(m+q);q=r>m?0:r;for(h=0;h<n;h++)if(!(r>m&&h>r-1)&&(h<q||h>m))if((j=d.slides[h])&&j.holder)j.holder.detach(),j.isAdded=!1}},setItemHtml:function(b,f){var c=this,g=function(){if(b.images){if(!b.isLoading){var e,f;b.content.hasClass("rsImg")?(e=b.content,f=!0):e=b.content.find(".rsImg:not(img)");e&&!e.is("img")&&e.each(function(){var a=l(this),c='<img class="rsImg" src="'+(a.is("a")?a.attr("href"):a.text())+'" />';f?b.content=l(c):a.replaceWith(c)});e=f?b.content:b.content.find("img.rsImg");h();e.eq(0).addClass("rsMainSlideImage");b.iW&&b.iH&&(b.isLoaded||c._q2(b),d());b.isLoading=!0;if(b.isBig)l("<img />").on("load.rs error.rs",function(){l(this).off("load.rs error.rs");a([this],!0)}).attr("src",b.image);else{b.loaded=[];b.numStartedLoad=0;e=function(){l(this).off("load.rs error.rs");b.loaded.push(this);b.loaded.length===b.numStartedLoad&&a(b.loaded,!1)};for(var g=0;g<b.images.length;g++){var j=l("<img />");b.numStartedLoad++;j.on("load.rs error.rs",e).attr("src",b.images[g])}}}}else b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,d(!0)},a=function(a,c){if(a.length){var d=a[0];if(c!==b.isBig)(d=b.holder.children())&&1<d.length&&k();else if(b.iW&&b.iH)e();else if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)e();else{var f=new Image;f.onload=function(){f.width?(b.iW=f.width,b.iH=f.height,e()):setTimeout(function(){f.width&&(b.iW=f.width,b.iH=f.height);e()},1E3)};f.src=d.src}}else e()},e=function(){b.isLoaded=!0;b.isLoading=!1;d();k();j()},d=function(){if(!b.isAppended&&c.ev){var a=c.st.visibleNearby,d=b.id-c._o;if(!f&&!b.appendOnLoaded&&c.st.fadeinLoadedSlide&&(0===d||(a||c._r2||c._l2)&&(-1===d||1===d)))a={visibility:"visible",opacity:0},a[c._g+"transition"]="opacity 400ms ease-in-out",b.content.css(a),setTimeout(function(){b.content.css("opacity",1)},16);b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content);b.isAppended=!0;b.isLoaded&&(c._q2(b),j());b.sizeReady||(b.sizeReady=!0,setTimeout(function(){c.ev.trigger("rsMaybeSizeReady",b)},100))}},j=function(){!b.loadedTriggered&&c.ev&&(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),c.ev.trigger("rsAfterContentSet",b))},h=function(){c.st.usePreloader&&b.holder.html(c._q1.clone())},k=function(){if(c.st.usePreloader){var a=b.holder.find(".rsPreloader");a.length&&a.remove()}};b.isLoaded?d():f?!c._l&&b.images&&b.iW&&b.iH?g():(b.holder.isWaiting=!0,h(),b.holder.slideId=-99):g()},_p2:function(b){this._p1.append(b.holder);b.appendOnLoaded=!1},_g2:function(b,f){var c=this,g,a="touchstart"===b.type;c._s2=a;c.ev.trigger("rsDragStart");if(l(b.target).closest(".rsNoDrag",c._r1).length)return c.dragSuccess=!1,!0;!f&&c._r2&&(c._t2=!0,c._u2());c.dragSuccess=!1;if(c._l2)a&&(c._v2=!0);else{a&&(c._v2=!1);c._w2();if(a){var e=b.originalEvent.touches;if(e&&0<e.length)g=e[0],1<e.length&&(c._v2=!0);else return}else b.preventDefault(),g=b,c.msEnabled&&(g=g.originalEvent);c._l2=!0;c._b.on(c._k1,function(a){c._x2(a,f)}).on(c._l1,function(a){c._y2(a,f)});c._z2="";c._a3=!1;c._b3=g.pageX;c._c3=g.pageY;c._d3=c._v=(!f?c._h:c._e3)?g.pageX:g.pageY;c._f3=0;c._g3=0;c._h3=!f?c._p:c._i3;c._j3=(new Date).getTime();if(a)c._e1.on(c._m1,function(a){c._y2(a,f)})}},_k3:function(b,f){if(this._l3){var c=this._m3,g=b.pageX-this._b3,a=b.pageY-this._c3,e=this._h3+g,d=this._h3+a,j=!f?this._h:this._e3,e=j?e:d,d=this._z2;this._a3=!0;this._b3=b.pageX;this._c3=b.pageY;"x"===d&&0!==g?this._f3=0<g?1:-1:"y"===d&&0!==a&&(this._g3=0<a?1:-1);d=j?this._b3:this._c3;g=j?g:a;f?e>this._n3?e=this._h3+g*this._n1:e<this._o3&&(e=this._h3+g*this._n1):this._z||(0>=this.currSlideId&&0<d-this._d3&&(e=this._h3+g*this._n1),this.currSlideId>=this.numSlides-1&&0>d-this._d3&&(e=this._h3+g*this._n1));this._h3=e;200<c-this._j3&&(this._j3=c,this._v=d);f?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(b,f){var c=this,g,a="touchmove"===b.type;if(!c._s2||a){if(a){if(c._r3)return;var e=b.originalEvent.touches;if(e){if(1<e.length)return;g=e[0]}else return}else g=b,c.msEnabled&&(g=g.originalEvent);c._a3||(c._e&&(!f?c._p1:c._s3).css(c._g+c._u1,"0s"),function j(){c._l2&&(c._t3=requestAnimationFrame(j),c._u3&&c._k3(c._u3,f))}());if(c._l3)b.preventDefault(),c._m3=(new Date).getTime(),c._u3=g;else if(e=!f?c._h:c._e3,g=Math.abs(g.pageX-c._b3)-Math.abs(g.pageY-c._c3)-(e?-7:7),7<g){if(e)b.preventDefault(),c._z2="x";else if(a){c._v3();return}c._l3=!0}else if(-7>g){if(e){if(a){c._v3();return}}else b.preventDefault(),c._z2="y";c._l3=!0}}},_v3:function(){this._r3=!0;this._a3=this._l2=!1;this._y2()},_y2:function(b,f){function c(a){return 100>a?100:500<a?500:a}function g(b,d){if(a._l||f)j=(-a._u-a._d1)*a._w,h=Math.abs(a._p-j),a._c=h/d,b&&(a._c+=250),a._c=c(a._c),a._x3(j,!1)}var a=this,e,d,j,h;d="touchend"===b.type||"touchcancel"===b.type;if(!a._s2||d)if(a._s2=!1,a.ev.trigger("rsDragRelease"),a._u3=null,a._l2=!1,a._r3=!1,a._l3=!1,a._m3=0,cancelAnimationFrame(a._t3),a._a3&&(f?a._q3(a._h3):a._l&&a._p3(a._h3)),a._b.off(a._k1).off(a._l1),d&&a._e1.off(a._m1),a._i1(),!a._a3&&!a._v2&&f&&a._w3){var k=l(b.target).closest(".rsNavItem");k.length&&a.goTo(k.index())}else{e=!f?a._h:a._e3;if(!a._a3||"y"===a._z2&&e||"x"===a._z2&&!e)if(!f&&a._t2){a._t2=!1;if(a.st.navigateByClick){a._i2(a.msEnabled?b.originalEvent:b);a.dragSuccess=!0;return}a.dragSuccess=!0}else{a._t2=!1;a.dragSuccess=!1;return}else a.dragSuccess=!0;a._t2=!1;a._z2="";var n=a.st.minSlideOffset;d=d?b.originalEvent.changedTouches[0]:a.msEnabled?b.originalEvent:b;var m=e?d.pageX:d.pageY,p=a._d3;d=a._v;var q=a.currSlideId,r=a.numSlides,u=e?a._f3:a._g3,t=a._z;Math.abs(m-p);e=m-d;d=(new Date).getTime()-a._j3;d=Math.abs(e)/d;if(0===u||1>=r)g(!0,d);else{if(!t&&!f)if(0>=q){if(0<u){g(!0,d);return}}else if(q>=r-1&&0>u){g(!0,d);return}if(f){j=a._i3;if(j>a._n3)j=a._n3;else if(j<a._o3)j=a._o3;else{n=d*d/0.006;k=-a._i3;m=a._y3-a._z3+a._i3;0<e&&n>k?(k+=a._z3/(15/(0.003*(n/d))),d=d*k/n,n=k):0>e&&n>m&&(m+=a._z3/(15/(0.003*(n/d))),d=d*m/n,n=m);k=Math.max(Math.round(d/0.003),50);j+=n*(0>e?-1:1);if(j>a._n3){a._a4(j,k,!0,a._n3,200);return}if(j<a._o3){a._a4(j,k,!0,a._o3,200);return}}a._a4(j,k,!0)}else p+n<m?0>u?g(!1,d):a._m2("prev",c(Math.abs(a._p-(-a._u-a._d1+1)*a._w)/d),!1,!0,!0):p-n>m?0<u?g(!1,d):a._m2("next",c(Math.abs(a._p-(-a._u-a._d1-1)*a._w)/d),!1,!0,!0):g(!1,d)}}},_p3:function(b){b=this._p=b;this._e?this._p1.css(this._x1,this._y1+(this._h?b+this._z1+0:0+this._z1+b)+this._a2):this._p1.css(this._h?this._x1:this._w1,b)},updateSliderSize:function(b){var f,c;if(this.st.autoScaleSlider){var g=this.st.autoScaleSliderWidth,a=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(f=this.slider.width(),f!=this.width&&(this.slider.css("height",f*(a/g)),f=this.slider.width()),c=this.slider.height()):(c=this.slider.height(),c!=this.height&&(this.slider.css("width",c*(g/a)),c=this.slider.height()),f=this.slider.width())}else f=this.slider.width(),c=this.slider.height();if(b||f!=this.width||c!=this.height){this.width=f;this.height=c;this._b4=f;this._c4=c;this.ev.trigger("rsBeforeSizeSet");this.ev.trigger("rsAfterSizePropSet");this._e1.css({width:this._b4,height:this._c4});this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing;this._d4=this.st.imageScalePadding;for(f=0;f<this.slides.length;f++)b=this.slides[f],b.positionSet=!1,b&&(b.images&&b.isLoaded)&&(b.isRendered=!1,this._q2(b));if(this._e4)for(f=0;f<this._e4.length;f++)b=this._e4[f],b.holder.css(this._i,(b.id+this._d1)*this._w);this._n2();this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-
this._d1)*this._w));this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset();this._j2=this._j2[this._i]},appendSlide:function(b,f){var c=this._s(b);if(isNaN(f)||f>this.numSlides)f=this.numSlides;this.slides.splice(f,0,c);this.slidesJQ.splice(f,0,'<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>');f<this.currSlideId&&this.currSlideId++;this.ev.trigger("rsOnAppendSlide",[c,f]);this._f4(f);f===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(b){var f=this.slides[b];f&&(f.holder&&f.holder.remove(),b<this.currSlideId&&this.currSlideId--,this.slides.splice(b,1),this.slidesJQ.splice(b,1),this.ev.trigger("rsOnRemoveSlide",[b]),this._f4(b),b===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(){var b=this,f=b.numSlides,f=0>=b._u?0:Math.floor(b._u/f);b.numSlides=b.slides.length;0===b.numSlides?(b.currSlideId=b._d1=b._u=0,b.currSlide=b._g4=null):b._u=f*b.numSlides+b.currSlideId;for(f=0;f<b.numSlides;f++)b.slides[f].id=f;b.currSlide=b.slides[b.currSlideId];b._r1=b.slidesJQ[b.currSlideId];b.currSlideId>=b.numSlides?b.goTo(b.numSlides-1):0>b.currSlideId&&b.goTo(0);b._t();b._l&&b._z&&b._p1.css(b._g+b._u1,"0ms");b._h4&&clearTimeout(b._h4);b._h4=setTimeout(function(){b._l&&b._p3((-b._u-b._d1)*b._w);b._n2();b._l||b._r1.css({display:"block",opacity:1})},14);b.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(b){this._m2("next",this.st.transitionSpeed,!0,!b)},prev:function(b){this._m2("prev",this.st.transitionSpeed,!0,!b)},_m2:function(b,f,c,g,a){var e=this,d,j,h;e.ev.trigger("rsBeforeMove",[b,g]);h="next"===b?e.currSlideId+1:"prev"===b?e.currSlideId-1:b=parseInt(b,10);if(!e._z){if(0>h){e._i4("left",!g);return}if(h>=e.numSlides){e._i4("right",!g);return}}e._r2&&(e._u2(!0),c=!1);j=h-e.currSlideId;h=e._o2=e.currSlideId;var k=e.currSlideId+j;g=e._u;var l;e._z?(k=e._n2(!1,k),g+=j):g=k;e._o=k;e._g4=e.slidesJQ[e.currSlideId];e._u=g;e.currSlideId=e._o;e.currSlide=e.slides[e.currSlideId];e._r1=e.slidesJQ[e.currSlideId];var k=e.st.slidesDiff,m=Boolean(0<j);j=Math.abs(j);var p=Math.floor(h/e._y),q=Math.floor((h+(m?k:-k))/e._y),p=(m?Math.max(p,q):Math.min(p,q))*e._y+(m?e._y-1:0);p>e.numSlides-1?p=e.numSlides-1:0>p&&(p=0);h=m?p-h:h-p;h>e._y&&(h=e._y);if(j>h+k){e._d1+=(j-(h+k))*(m?-1:1);f*=1.4;for(h=0;h<e.numSlides;h++)e.slides[h].positionSet=!1}e._c=f;e._n2(!0);a||(l=!0);d=(-g-e._d1)*e._w;l?setTimeout(function(){e._j4=!1;e._x3(d,b,!1,c);e.ev.trigger("rsOnUpdateNav")},0):(e._x3(d,b,!1,c),e.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),!this._z&&!this.st.loopRewind&&(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(b,f,c,g,a){function e(){var a;if(j&&(a=j.data("rsTimeout")))j!==h&&j.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),j.data("rsTimeout","");if(a=h.data("rsTimeout"))clearTimeout(a),h.data("rsTimeout","")}var d=this,j,h,k={};isNaN(d._c)&&(d._c=400);d._p=d._h3=b;d.ev.trigger("rsBeforeAnimStart");d._e?d._l?(d._c=parseInt(d._c,10),c=d._g+d._v1,k[d._g+d._u1]=d._c+"ms",k[c]=g?l.rsCSS3Easing[d.st.easeInOut]:l.rsCSS3Easing[d.st.easeOut],d._p1.css(k),g||!d.hasTouch?setTimeout(function(){d._p3(b)},5):d._p3(b)):(d._c=d.st.transitionSpeed,j=d._g4,h=d._r1,h.data("rsTimeout")&&h.css("opacity",0),e(),j&&j.data("rsTimeout",setTimeout(function(){k[d._g+d._u1]="0ms";k.zIndex=0;k.display="none";j.data("rsTimeout","");j.css(k);setTimeout(function(){j.css("opacity",0)},16)},d._c+60)),k.display="block",k.zIndex=d._m,k.opacity=0,k[d._g+d._u1]="0ms",k[d._g+d._v1]=l.rsCSS3Easing[d.st.easeInOut],h.css(k),h.data("rsTimeout",setTimeout(function(){h.css(d._g+d._u1,d._c+"ms");h.data("rsTimeout",setTimeout(function(){h.css("opacity",1);h.data("rsTimeout","")},20))},20))):d._l?(k[d._h?d._x1:d._w1]=b+"px",d._p1.animate(k,d._c,g?d.st.easeInOut:d.st.easeOut)):(j=d._g4,h=d._r1,h.stop(!0,!0).css({opacity:0,display:"block",zIndex:d._m}),d._c=d.st.transitionSpeed,h.animate({opacity:1},d._c,d.st.easeInOut),e(),j&&j.data("rsTimeout",setTimeout(function(){j.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},d._c+60)));d._r2=!0;d.loadingTimeout&&clearTimeout(d.loadingTimeout);d.loadingTimeout=a?setTimeout(function(){d.loadingTimeout=null;a.call()},d._c+60):setTimeout(function(){d.loadingTimeout=null;d._k4(f)},d._c+60)},_u2:function(b){this._r2=!1;clearTimeout(this.loadingTimeout);if(this._l)if(this._e){if(!b){b=this._p;var f=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms");b!==f&&this._p3(f)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var b=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),f=0===b[0].indexOf("matrix3d");return parseInt(b[this._h?f?12:4:f?13:5],10)},_m4:function(b,f){return this._e?this._y1+(f?b+this._z1+0:0+this._z1+b)+this._a2:b},_k4:function(){this._l||(this._r1.css("z-index",0),this._m=10);this._r2=!1;this.staticSlideId=this.currSlideId;this._n2();this._n4=!1;this.ev.trigger("rsAfterSlideChange")},_i4:function(b,f){var c=this,g=(-c._u-c._d1)*c._w;if(!(0===c.numSlides||c._r2))if(c.st.loopRewind)c.goTo("left"===b?c.numSlides-1:0,f);else if(c._l){c._c=200;var a=function(){c._r2=!1};c._x3(g+("left"===b?30:-30),"",!1,!0,function(){c._r2=!1;c._x3(g,"",!1,!0,a)})}},_q2:function(b){if(!b.isRendered){var f=b.content,c="rsMainSlideImage",g,a=this.st.imageAlignCenter,e=this.st.imageScaleMode,d;b.videoURL&&(c="rsVideoContainer","fill"!==e?g=!0:(d=f,d.hasClass(c)||(d=d.find("."+c)),d.css({width:"100%",height:"100%"}),c="rsMainSlideImage"));f.hasClass(c)||(f=f.find("."+c));if(f){var j=b.iW,c=b.iH;b.isRendered=!0;if("none"!==e||a){b="fill"!==e?this._d4:0;d=this._b4-2*b;var h=this._c4-2*b,k,l,m={};if("fit-if-smaller"===e&&(j>d||c>h))e="fit";if("fill"===e||"fit"===e)k=d/j,l=h/c,k="fill"==e?k>l?k:l:"fit"==e?k<l?k:l:1,j=Math.ceil(j*k,10),c=Math.ceil(c*k,10);"none"!==e&&(m.width=j,m.height=c,g&&f.find(".rsImg").css({width:"100%",height:"100%"}));a&&(m.marginLeft=Math.floor((d-j)/2)+b,m.marginTop=Math.floor((h-c)/2)+b);f.css(m)}}}}};l.rsProto=t.prototype;l.fn.royalSlider=function(b){var f=arguments;return this.each(function(){var c=l(this);if("object"===typeof b||!b)c.data("royalSlider")||c.data("royalSlider",new t(c,b));else if((c=c.data("royalSlider"))&&c[b])return c[b].apply(c,Array.prototype.slice.call(f,1))})};l.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2};l.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};l.extend(jQuery.easing,{easeInOutSine:function(b,f,c,g,a){return-g/2*(Math.cos(Math.PI*f/a)-1)+c},easeOutSine:function(b,f,c,g,a){return g*Math.sin(f/a*(Math.PI/2))+c},easeOutCubic:function(b,f,c,g,a){return g*((f=f/a-1)*f*f+1)+c}})})(jQuery,window);(function(c){c.rsProto._o4=function(){var b,a=this;if(a.st.addActiveClass)a.ev.on("rsOnUpdateNav",function(){b&&clearTimeout(b);b=setTimeout(function(){a._g4&&a._g4.removeClass("rsActiveSlide");a._r1&&a._r1.addClass("rsActiveSlide");b=null},50)})};c.rsModules.activeClass=c.rsProto._o4})(jQuery);(function(j){j.extend(j.rsProto,{_p4:function(){function l(){var g=a.currSlide;if(a.currSlide&&a.currSlide.isLoaded&&a._t4!==g){if(0<a._s4.length){for(b=0;b<a._s4.length;b++)clearTimeout(a._s4[b]);a._s4=[]}if(0<a._r4.length){var f;for(b=0;b<a._r4.length;b++)if(f=a._r4[b])a._e?(f.block.css(a._g+a._u1,"0s"),f.block.css(f.css)):f.block.stop(!0).css(f.css),a._t4=null,g.animBlocksDisplayed=!1;a._r4=[]}g.animBlocks&&(g.animBlocksDisplayed=!0,a._t4=g,a._u4(g.animBlocks))}}var a=this,b;a._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200};a.st.block=j.extend({},a._q4,a.st.block);a._r4=[];a._s4=[];a.ev.on("rsAfterInit",function(){l()});a.ev.on("rsBeforeParseNode",function(a,b,d){b=j(b);d.animBlocks=b.find(".rsABlock").css("display","none");d.animBlocks.length||(d.animBlocks=b.hasClass("rsABlock")?b.css("display","none"):!1)});a.ev.on("rsAfterContentSet",function(b,f){f.id===a.slides[a.currSlideId].id&&setTimeout(function(){l()},a.st.fadeinLoadedSlide?300:0)});a.ev.on("rsAfterSlideChange",function(){l()})},_v4:function(j,a){setTimeout(function(){j.css(a)},6)},_u4:function(l){var a=this,b,g,f,d,h,e,m;a._s4=[];l.each(function(l){b=j(this);g={};f={};d=null;var c=b.attr("data-move-offset"),c=c?parseInt(c,10):a.st.block.moveOffset;if(0<c&&((e=b.data("move-effect"))?(e=e.toLowerCase(),"none"===e?e=!1:"left"!==e&&("top"!==e&&"bottom"!==e&&"right"!==e)&&(e=a.st.block.moveEffect,"none"===e&&(e=!1))):e=a.st.block.moveEffect,e&&"none"!==e)){var n;n="right"===e||"left"===e?!0:!1;var k;m=!1;a._e?(k=0,h=a._x1):(n?isNaN(parseInt(b.css("right"),10))?h="left":(h="right",m=!0):isNaN(parseInt(b.css("bottom"),10))?h="top":(h="bottom",m=!0),h="margin-"+h,m&&(c=-c),a._e?k=parseInt(b.css(h),10):(k=b.data("rs-start-move-prop"),void 0===k&&(k=parseInt(b.css(h),10),b.data("rs-start-move-prop",k))));f[h]=a._m4("top"===e||"left"===e?k-c:k+c,n);g[h]=a._m4(k,n)}if(c=b.attr("data-fade-effect")){if("none"===c.toLowerCase()||"false"===c.toLowerCase())c=!1}else c=a.st.block.fadeEffect;c&&(f.opacity=0,g.opacity=1);if(c||e)d={},d.hasFade=Boolean(c),Boolean(e)&&(d.moveProp=h,d.hasMove=!0),d.speed=b.data("speed"),isNaN(d.speed)&&(d.speed=a.st.block.speed),d.easing=b.data("easing"),d.easing||(d.easing=a.st.block.easing),d.css3Easing=j.rsCSS3Easing[d.easing],d.delay=b.data("delay"),isNaN(d.delay)&&(d.delay=a.st.block.delay*l);c={};a._e&&(c[a._g+a._u1]="0ms");c.moveProp=g.moveProp;c.opacity=g.opacity;c.display="none";a._r4.push({block:b,css:c});a._v4(b,f);a._s4.push(setTimeout(function(b,d,c,e){return function(){b.css("display","block");if(c){var g={};if(a._e){var f="";c.hasMove&&(f+=c.moveProp);c.hasFade&&(c.hasMove&&(f+=", "),f+="opacity");g[a._g+a._t1]=f;g[a._g+a._u1]=c.speed+"ms";g[a._g+a._v1]=c.css3Easing;b.css(g);setTimeout(function(){b.css(d)},24)}else setTimeout(function(){b.animate(d,c.speed,c.easing)},16)}delete a._s4[e]}}(b,g,d,l),6>=d.delay?12:d.delay))})}});j.rsModules.animatedBlocks=j.rsProto._p4})(jQuery);(function(b){b.extend(b.rsProto,{_w4:function(){var a=this;if(a.st.autoHeight){var b,d,e,c=function(c){e=a.slides[a.currSlideId];if(b=e.holder)if((d=b.height())&&void 0!==d)a._c4=d,a._e||!c?a._e1.css("height",d):a._e1.stop(!0,!0).animate({height:d},a.st.transitionSpeed)};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){e===b&&c()});a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){e===b&&c()});a.slider.addClass("rsAutoHeight");a.ev.one("rsAfterInit",function(){setTimeout(function(){c(!1);setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>');a._e&&a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16)},16)});a.ev.on("rsBeforeAnimStart",function(){c(!0)});a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){c(!1)},16)})}}});b.rsModules.autoHeight=b.rsProto._w4})(jQuery);(function(b){b.extend(b.rsProto,{_x4:function(){var a=this,d;a._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2E3};!a.st.autoPlay&&a.st.autoplay&&(a.st.autoPlay=a.st.autoplay);a.st.autoPlay=b.extend({},a._y4,a.st.autoPlay);a.st.autoPlay.enabled&&(a.ev.on("rsBeforeParseNode",function(a,c,f){c=b(c);if(d=c.attr("data-rsDelay"))f.customDelay=parseInt(d,10)}),a.ev.one("rsAfterInit",function(){a._z4()}),a.ev.on("rsBeforeDestroy",function(){a.stopAutoPlay();a.slider.off("mouseenter mouseleave");b(window).off("blur"+
a.ns+" focus"+a.ns)}))},_z4:function(){var a=this;a.startAutoPlay();a.ev.on("rsAfterContentSet",function(b,e){!a._l2&&(!a._r2&&a._a5&&e===a.currSlide)&&a._b5()});a.ev.on("rsDragRelease",function(){a._a5&&a._c5&&(a._c5=!1,a._b5())});a.ev.on("rsAfterSlideChange",function(){a._a5&&a._c5&&(a._c5=!1,a.currSlide.isLoaded&&a._b5())});a.ev.on("rsDragStart",function(){a._a5&&(a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))});a.ev.on("rsBeforeMove",function(b,e,c){a._a5&&(c&&a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))});a._e5=!1;a.ev.on("rsVideoStop",function(){a._a5&&(a._e5=!1,a._b5())});a.ev.on("rsVideoPlay",function(){a._a5&&(a._c5=!1,a._d5(),a._e5=!0)});b(window).on("blur"+a.ns,function(){a._a5&&(a._c5=!0,a._d5())}).on("focus"+a.ns,function(){a._a5&&a._c5&&(a._c5=!1,a._b5())});a.st.autoPlay.pauseOnHover&&(a._f5=!1,a.slider.hover(function(){a._a5&&(a._c5=!1,a._d5(),a._f5=!0)},function(){a._a5&&(a._f5=!1,a._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0;this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1;this._d5()},_b5:function(){var a=this;!a._f5&&!a._e5&&(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var b;!a._z&&!a.st.loopRewind&&(b=!0,a.st.loopRewind=!0);a.next(!0);b&&(a.st.loopRewind=!1)},!a.currSlide.customDelay?a.st.autoPlay.delay:a.currSlide.customDelay))},_d5:function(){!this._f5&&!this._e5&&(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}});b.rsModules.autoplay=b.rsProto._x4})(jQuery);(function(c){c.extend(c.rsProto,{_i5:function(){var a=this;"bullets"===a.st.controlNavigation&&(a.ev.one("rsAfterPropsSetup",function(){a._j5=!0;a.slider.addClass("rsWithBullets");for(var b='<div class="rsNav rsBullets">',e=0;e<a.numSlides;e++)b+='<div class="rsNavItem rsBullet"><span></span></div>';a._k5=b=c(b+"</div>");a._l5=b.appendTo(a.slider).children();a._k5.on("click.rs",".rsNavItem",function(){a._m5||a.goTo(c(this).index())})}),a.ev.on("rsOnAppendSlide",function(b,c,d){d>=a.numSlides?a._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):a._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>');a._l5=a._k5.children()}),a.ev.on("rsOnRemoveSlide",function(b,c){var d=a._l5.eq(c);d&&d.length&&(d.remove(),a._l5=a._k5.children())}),a.ev.on("rsOnUpdateNav",function(){var b=a.currSlideId;a._n5&&a._n5.removeClass("rsNavSelected");b=a._l5.eq(b);b.addClass("rsNavSelected");a._n5=b}))}});c.rsModules.bullets=c.rsProto._i5})(jQuery);(function(b){b.extend(b.rsProto,{_o5:function(){var a=this,g,c,e;a._p5={enabled:!1,change:!1,prefix:""};a.st.deeplinking=b.extend({},a._p5,a.st.deeplinking);if(a.st.deeplinking.enabled){var h=a.st.deeplinking.change,d="#"+a.st.deeplinking.prefix,f=function(){var a=window.location.hash;return a&&(a=parseInt(a.substring(d.length),10),0<=a)?a-1:-1},j=f();-1!==j&&(a.st.startSlideId=j);h&&(b(window).on("hashchange"+a.ns,function(){if(!g){var b=f();0>b||(b>a.numSlides-1&&(b=a.numSlides-1),a.goTo(b))}}),a.ev.on("rsBeforeAnimStart",function(){c&&clearTimeout(c);e&&clearTimeout(e)}),a.ev.on("rsAfterSlideChange",function(){c&&clearTimeout(c);e&&clearTimeout(e);e=setTimeout(function(){g=!0;window.location.replace((""+window.location).split("#")[0]+d+(a.currSlideId+1));c=setTimeout(function(){g=!1;c=null},60)},400)}));a.ev.on("rsBeforeDestroy",function(){c=e=null;h&&b(window).off("hashchange"+a.ns)})}}});b.rsModules.deeplinking=b.rsProto._o5})(jQuery);(function(b,a,g){function c(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var e=document,h,d=b.event.special,f=e.documentMode,j="onhashchange"in a&&(f===g||7<f);b.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};b.fn.hashchange.delay=50;d.hashchange=b.extend(d.hashchange,{setup:function(){if(j)return!1;b(h.start)},teardown:function(){if(j)return!1;b(h.stop)}});var p=function(){var e=c(),d=r(n);e!==n?(q(n=e,d),b(a).trigger("hashchange")):d!==n&&(location.href=location.href.replace(/#.*/,"")+d);l=setTimeout(p,b.fn.hashchange.delay)},d={},l,n=c(),q=f=function(a){return a},r=f;d.start=function(){l||p()};d.stop=function(){l&&clearTimeout(l);l=g};if(a.attachEvent&&!a.addEventListener&&!j){var k,m;d.start=function(){k||(m=(m=b.fn.hashchange.src)&&m+c(),k=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){m||q(c());p()}).attr("src",m||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=function(){try{"title"===event.propertyName&&(k.document.title=e.title)}catch(a){}})};d.stop=f;r=function(){return c(k.location.href)};q=function(a,d){var c=k.document,f=b.fn.hashchange.domain;a!==d&&(c.title=e.title,c.open(),f&&c.write('<script>document.domain="'+f+'"\x3c/script>'),c.close(),k.location.hash=a)}}h=d})(jQuery,this);(function(c){c.extend(c.rsProto,{_q5:function(){var a=this;a._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0};a.st.fullscreen=c.extend({},a._r5,a.st.fullscreen);if(a.st.fullscreen.enabled)a.ev.one("rsBeforeSizeSet",function(){a._s5()})},_s5:function(){var a=this;a._t5=!a.st.keyboardNavEnabled&&a.st.fullscreen.keyboardNav;if(a.st.fullscreen.nativeFS){a._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var b=["webkit","moz","o","ms","khtml"];if(!a.isAndroid)if("undefined"!=typeof document.cancelFullScreen)a._u5.supportsFullScreen=!0;else for(var d=0;d<b.length;d++)if(a._u5.prefix=b[d],"undefined"!=typeof document[a._u5.prefix+"CancelFullScreen"]){a._u5.supportsFullScreen=!0;break}a._u5.supportsFullScreen?(a.nativeFS=!0,a._u5.fullScreenEventName=a._u5.prefix+"fullscreenchange"+a.ns,a._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a._u5.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},a._u5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):a._u5=!1}a.st.fullscreen.buttonFS&&(a._v5=c('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(a._o1).on("click.rs",function(){a.isFullscreen?a.exitFullscreen():a.enterFullscreen()}))},enterFullscreen:function(a){var b=this;if(b._u5)if(a)b._u5.requestFullScreen(c("html")[0]);else{b._b.on(b._u5.fullScreenEventName,function(){b._u5.isFullScreen()?b.enterFullscreen(!0):b.exitFullscreen(!0)});b._u5.requestFullScreen(c("html")[0]);return}if(!b._w5){b._w5=!0;b._b.on("keyup"+b.ns+"fullscreen",function(a){27===a.keyCode&&b.exitFullscreen()});b._t5&&b._b2();a=c(window);b._x5=a.scrollTop();b._y5=a.scrollLeft();b._z5=c("html").attr("style");b._a6=c("body").attr("style");b._b6=b.slider.attr("style");c("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"});b.slider.addClass("rsFullscreen");var d;for(d=0;d<b.numSlides;d++)a=b.slides[d],a.isRendered=!1,a.bigImage&&(a.isBig=!0,a.isMedLoaded=a.isLoaded,a.isMedLoading=a.isLoading,a.medImage=a.image,a.medIW=a.iW,a.medIH=a.iH,a.slideId=-99,a.bigImage!==a.medImage&&(a.sizeType="big"),a.isLoaded=a.isBigLoaded,a.isLoading=!1,a.image=a.bigImage,a.images[0]=a.bigImage,a.iW=a.bigIW,a.iH=a.bigIH,a.isAppended=a.contentAdded=!1,b._c6(a));b.isFullscreen=!0;b._w5=!1;b.updateSliderSize();b.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(a){var b=this;if(b._u5){if(!a){b._u5.cancelFullScreen(c("html")[0]);return}b._b.off(b._u5.fullScreenEventName)}if(!b._w5){b._w5=!0;b._b.off("keyup"+b.ns+"fullscreen");b._t5&&b._b.off("keydown"+b.ns);c("html").attr("style",b._z5||"");c("body").attr("style",b._a6||"");var d;for(d=0;d<b.numSlides;d++)a=b.slides[d],a.isRendered=!1,a.bigImage&&(a.isBig=!1,a.slideId=-99,a.isBigLoaded=a.isLoaded,a.isBigLoading=a.isLoading,a.bigImage=a.image,a.bigIW=a.iW,a.bigIH=a.iH,a.isLoaded=a.isMedLoaded,a.isLoading=!1,a.image=a.medImage,a.images[0]=a.medImage,a.iW=a.medIW,a.iH=a.medIH,a.isAppended=a.contentAdded=!1,b._c6(a,!0),a.bigImage!==a.medImage&&(a.sizeType="med"));b.isFullscreen=!1;a=c(window);a.scrollTop(b._x5);a.scrollLeft(b._y5);b._w5=!1;b.slider.removeClass("rsFullscreen");b.updateSliderSize();setTimeout(function(){b.updateSliderSize()},1);b.ev.trigger("rsExitFullscreen")}},_c6:function(a){var b=!a.isLoaded&&!a.isLoading?'<a class="rsImg rsMainSlideImage" href="'+a.image+'"></a>':'<img class="rsImg rsMainSlideImage" src="'+a.image+'"/>';a.content.hasClass("rsImg")?a.content=c(b):a.content.find(".rsImg").eq(0).replaceWith(b);!a.isLoaded&&(!a.isLoading&&a.holder)&&a.holder.html(a.content)}});c.rsModules.fullscreen=c.rsProto._q5})(jQuery);(function(b){b.extend(b.rsProto,{_d6:function(){var a=this;a.st.globalCaption&&(a.ev.on("rsAfterInit",function(){a.globalCaption=b('<div class="rsGCaption"></div>').appendTo(!a.st.globalCaptionInside?a.slider:a._e1);a.globalCaption.html(a.currSlide.caption)}),a.ev.on("rsBeforeAnimStart",function(){a.globalCaption.html(a.currSlide.caption)}))}});b.rsModules.globalCaption=b.rsProto._d6})(jQuery);(function(b){b.extend(b.rsProto,{_e6:function(){var a=this;if(a.st.navAutoHide&&!a.hasTouch)a.ev.one("rsAfterInit",function(){if(a._k5){a._k5.addClass("rsHidden");var b=a.slider;b.one("mousemove.controlnav",function(){a._k5.removeClass("rsHidden")});b.hover(function(){a._k5.removeClass("rsHidden")},function(){a._k5.addClass("rsHidden")})}})}});b.rsModules.autoHideNav=b.rsProto._e6})(jQuery);(function(e){e.extend(e.rsProto,{_f6:function(){var a=this;"tabs"===a.st.controlNavigation&&(a.ev.on("rsBeforeParseNode",function(a,d,b){d=e(d);b.thumbnail=d.find(".rsTmb").remove();b.thumbnail.length?b.thumbnail=e(document.createElement("div")).append(b.thumbnail).html():(b.thumbnail=d.attr("data-rsTmb"),b.thumbnail||(b.thumbnail=d.find(".rsImg").attr("data-rsTmb")),b.thumbnail=b.thumbnail?'<img src="'+b.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._g6()}),a.ev.on("rsOnAppendSlide",function(c,d,b){b>=a.numSlides?a._k5.append('<div class="rsNavItem rsTab">'+d.thumbnail+"</div>"):a._l5.eq(b).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>");a._l5=a._k5.children()}),a.ev.on("rsOnRemoveSlide",function(c,d){var b=a._l5.eq(d);b&&(b.remove(),a._l5=a._k5.children())}),a.ev.on("rsOnUpdateNav",function(){var c=a.currSlideId;a._n5&&a._n5.removeClass("rsNavSelected");c=a._l5.eq(c);c.addClass("rsNavSelected");a._n5=c}))},_g6:function(){var a=this,c;a._j5=!0;c='<div class="rsNav rsTabs">';for(var d=0;d<a.numSlides;d++)c+='<div class="rsNavItem rsTab">'+a.slides[d].thumbnail+"</div>";c=e(c+"</div>");a._k5=c;a._l5=c.children(".rsNavItem");a.slider.append(c);a._k5.click(function(b){b=e(b.target).closest(".rsNavItem");b.length&&a.goTo(b.index())})}});e.rsModules.tabs=e.rsProto._f6})(jQuery);(function(f){f.extend(f.rsProto,{_h6:function(){var a=this;"thumbnails"===a.st.controlNavigation&&(a._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},a.st.thumbs=f.extend({},a._i6,a.st.thumbs),a._j6=!0,!1===a.st.thumbs.firstMargin?a.st.thumbs.firstMargin=0:!0===a.st.thumbs.firstMargin&&(a.st.thumbs.firstMargin=a.st.thumbs.spacing),a.ev.on("rsBeforeParseNode",function(a,c,b){c=f(c);b.thumbnail=c.find(".rsTmb").remove();b.thumbnail.length?b.thumbnail=f(document.createElement("div")).append(b.thumbnail).html():(b.thumbnail=c.attr("data-rsTmb"),b.thumbnail||(b.thumbnail=c.find(".rsImg").attr("data-rsTmb")),b.thumbnail=b.thumbnail?'<img src="'+b.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._k6()}),a._n5=null,a.ev.on("rsOnUpdateNav",function(){var e=f(a._l5[a.currSlideId]);e!==a._n5&&(a._n5&&(a._n5.removeClass("rsNavSelected"),a._n5=null),a._l6&&a._m6(a.currSlideId),a._n5=e.addClass("rsNavSelected"))}),a.ev.on("rsOnAppendSlide",function(e,c,b){e="<div"+a._n6+' class="rsNavItem rsThumb">'+a._o6+c.thumbnail+"</div>";b>=a.numSlides?a._s3.append(e):a._l5.eq(b).before(e);a._l5=a._s3.children();a.updateThumbsSize()}),a.ev.on("rsOnRemoveSlide",function(e,c){var b=a._l5.eq(c);b&&(b.remove(),a._l5=a._s3.children(),a.updateThumbsSize())}))},_k6:function(){var a=this,e="rsThumbs",c=a.st.thumbs,b="",g,d,h=c.spacing;a._j5=!0;a._e3="vertical"===c.orientation?!1:!0;a._n6=g=h?' style="margin-'+(a._e3?"right":"bottom")+":"+h+'px;"':"";a._i3=0;a._p6=!1;a._m5=!1;a._l6=!1;a._q6=c.arrows&&c.navigation;d=a._e3?"Hor":"Ver";a.slider.addClass("rsWithThumbs rsWithThumbs"+d);b+='<div class="rsNav rsThumbs rsThumbs'+d+'"><div class="'+e+'Container">';a._o6=c.appendSpan?'<span class="thumbIco"></span>':"";for(var j=0;j<a.numSlides;j++)d=a.slides[j],b+="<div"+g+' class="rsNavItem rsThumb">'+d.thumbnail+a._o6+"</div>";b=f(b+"</div></div>");g={};c.paddingTop&&(g[a._e3?"paddingTop":"paddingLeft"]=c.paddingTop);c.paddingBottom&&(g[a._e3?"paddingBottom":"paddingRight"]=c.paddingBottom);b.css(g);a._s3=f(b).find("."+e+"Container");a._q6&&(e+="Arrow",c.arrowLeft?a._r6=c.arrowLeft:(a._r6=f('<div class="'+e+" "+e+'Left"><div class="'+e+'Icn"></div></div>'),b.append(a._r6)),c.arrowRight?a._s6=c.arrowRight:(a._s6=f('<div class="'+e+" "+e+'Right"><div class="'+e+'Icn"></div></div>'),b.append(a._s6)),a._r6.click(function(){var b=(Math.floor(a._i3/a._t6)+a._u6)*a._t6;a._a4(b>a._n3?a._n3:b)}),a._s6.click(function(){var b=(Math.floor(a._i3/a._t6)-a._u6)*a._t6;a._a4(b<a._o3?a._o3:b)}),c.arrowsAutoHide&&!a.hasTouch&&(a._r6.css("opacity",0),a._s6.css("opacity",0),b.one("mousemove.rsarrowshover",function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))}),b.hover(function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))},function(){a._l6&&(a._r6.css("opacity",0),a._s6.css("opacity",0))})));a._k5=b;a._l5=a._s3.children();a.msEnabled&&a.st.thumbs.navigation&&a._s3.css("-ms-touch-action",a._e3?"pan-y":"pan-x");a.slider.append(b);a._w3=!0;a._v6=h;c.navigation&&a._e&&a._s3.css(a._g+"transition-property",a._g+"transform");a._k5.on("click.rs",".rsNavItem",function(){a._m5||a.goTo(f(this).index())});a.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){a._w6=a._e3?a._c4:a._b4;a.updateThumbsSize(!0)})},updateThumbsSize:function(){var a=this,e=a._l5.first(),c={},b=a._l5.length;a._t6=(a._e3?e.outerWidth():e.outerHeight())+a._v6;a._y3=b*a._t6-a._v6;c[a._e3?"width":"height"]=a._y3+a._v6;a._z3=a._e3?a._k5.width():a._k5.height();a._o3=-(a._y3-a._z3)-a.st.thumbs.firstMargin;a._n3=a.st.thumbs.firstMargin;a._u6=Math.floor(a._z3/a._t6);if(a._y3<a._z3)a.st.thumbs.autoCenter&&a._q3((a._z3-a._y3)/2),a.st.thumbs.arrows&&a._r6&&(a._r6.addClass("rsThumbsArrowDisabled"),a._s6.addClass("rsThumbsArrowDisabled")),a._l6=!1,a._m5=!1,a._k5.off(a._j1);else if(a.st.thumbs.navigation&&!a._l6&&(a._l6=!0,!a.hasTouch&&a.st.thumbs.drag||a.hasTouch&&a.st.thumbs.touch))a._m5=!0,a._k5.on(a._j1,function(b){a._g2(b,!0)});a._e&&(c[a._g+"transition-duration"]="0ms");a._s3.css(c);if(a._w3&&(a.isFullscreen||a.st.thumbs.fitInViewport))a._e3?a._c4=a._w6-a._k5.outerHeight():a._b4=a._w6-a._k5.outerWidth()},setThumbsOrientation:function(a,e){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),e||this.updateSliderSize(!0))},_q3:function(a){this._i3=a;this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(a,e,c,b,g){var d=this;if(d._l6){e||(e=d.st.thumbs.transitionSpeed);d._i3=a;d._x6&&clearTimeout(d._x6);d._p6&&(d._e||d._s3.stop(),c=!0);var h={};d._p6=!0;d._e?(h[d._g+"transition-duration"]=e+"ms",h[d._g+"transition-timing-function"]=c?f.rsCSS3Easing[d.st.easeOut]:f.rsCSS3Easing[d.st.easeInOut],d._s3.css(h),d._q3(a)):(h[d._e3?d._x1:d._w1]=a+"px",d._s3.animate(h,e,c?"easeOutCubic":d.st.easeInOut));b&&(d._i3=b);d._y6();d._x6=setTimeout(function(){d._p6=!1;g&&(d._a4(b,g,!0),g=null)},e)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,e){var c=0,b,f=a*this._t6+2*this._t6-this._v6+this._n3,d=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(e=!0,this._j6=!1),f+this._i3>this._z3?(a===this.numSlides-1&&(c=1),d=-a+this._u6-2+c,b=d*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(b=(-a+1)*this._t6+this._n3):b=this._n3,b!==this._i3&&(c=void 0===b?this._i3:b,c>this._n3?this._q3(this._n3):c<this._o3?this._q3(this._o3):void 0!==b&&(e?this._q3(b):this._a4(b))),this._y6())}});f.rsModules.thumbnails=f.rsProto._h6})(jQuery);(function(f){f.extend(f.rsProto,{_z6:function(){var a=this;a._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'};a.st.video=f.extend({},a._a7,a.st.video);a.ev.on("rsBeforeSizeSet",function(){a._b7&&setTimeout(function(){var b=a._r1,b=b.hasClass("rsVideoContainer")?b:b.find(".rsVideoContainer");a._c7&&a._c7.css({width:b.width(),height:b.height()})},32)});var c=a._a.mozilla;a.ev.on("rsAfterParseNode",function(b,e,d){b=f(e);if(d.videoURL){a.st.video.disableCSS3inFF&&c&&(a._e=a._f=!1);e=f('<div class="rsVideoContainer"></div>');var g=f('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');b.hasClass("rsImg")?d.content=e.append(b).append(g):d.content.find(".rsImg").wrap(e).after(g)}});a.ev.on("rsAfterSlideChange",function(){a.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var a=this;if(!a._b7){var c=a.currSlide;if(!c.videoURL)return!1;var b=a._d7=c.content,c=c.videoURL,e,d;c.match(/youtu\.be/i)||c.match(/youtube\.com/i)?(d=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(d=c.match(d))&&11==d[7].length&&(e=d[7]),void 0!==e&&(a._c7=a.st.video.youTubeCode.replace("%id%",e))):c.match(/vimeo\.com/i)&&(d=/(www\.)?vimeo.com\/(\d+)($|\/)/,(d=c.match(d))&&(e=d[2]),void 0!==e&&(a._c7=a.st.video.vimeoCode.replace("%id%",e)));a.videoObj=f(a._c7);a.ev.trigger("rsOnCreateVideoElement",[c]);a.videoObj.length&&(a._c7=f('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),a._c7.find(".rsPreloader").after(a.videoObj),b=b.hasClass("rsVideoContainer")?b:b.find(".rsVideoContainer"),a._c7.css({width:b.width(),height:b.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(b){a.stopVideo();b.preventDefault();b.stopPropagation();return!1}),b.append(a._c7),a.isIPAD&&b.addClass("rsIOSVideo"),a._e7(!1),setTimeout(function(){a._c7.addClass("rsVideoActive")},10),a.ev.trigger("rsVideoPlay"),a._b7=!0);return!0}return!1},stopVideo:function(){var a=this;return a._b7?(a.isIPAD&&a.slider.find(".rsCloseVideoBtn").remove(),a._e7(!0),setTimeout(function(){a.ev.trigger("rsOnDestroyVideoElement",[a.videoObj]);var c=a._c7.find("iframe");if(c.length)try{c.attr("src","")}catch(b){}a._c7.remove();a._c7=null},16),a.ev.trigger("rsVideoStop"),a._b7=!1,!0):!1},_e7:function(a){var c=[],b=this.st.video;b.autoHideArrows&&(this._c2&&(c.push(this._c2,this._d2),this._e2=!a),this._v5&&c.push(this._v5));b.autoHideControlNav&&this._k5&&c.push(this._k5);b.autoHideBlocks&&this.currSlide.animBlocks&&c.push(this.currSlide.animBlocks);b.autoHideCaption&&this.globalCaption&&c.push(this.globalCaption);if(c.length)for(b=0;b<c.length;b++)a?c[b].removeClass("rsHidden"):c[b].addClass("rsHidden")}});f.rsModules.video=f.rsProto._z6})(jQuery);(function(d){d.rsProto._f7=function(){var a=this;a.st.visibleNearby&&a.st.visibleNearby.enabled&&(a._g7={enabled:!0,centerArea:0.6,center:!0,breakpoint:0,breakpointCenterArea:0.8,hiddenOverflow:!0,navigateByCenterClick:!1},a.st.visibleNearby=d.extend({},a._g7,a.st.visibleNearby),a.ev.one("rsAfterPropsSetup",function(){a._h7=a._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent();a.st.visibleNearby.hiddenOverflow||a._h7.css("overflow","visible");a._o1=a.st.controlsInside?a._h7:a.slider}),a.ev.on("rsAfterSizePropSet",function(){var b,c=a.st.visibleNearby;b=c.breakpoint&&a.width<c.breakpoint?c.breakpointCenterArea:c.centerArea;a._h?(a._b4*=b,a._h7.css({height:a._c4,width:a._b4/b}),a._d=a._b4*(1-b)/2/b):(a._c4*=b,a._h7.css({height:a._c4/b,width:a._b4}),a._d=a._c4*(1-b)/2/b);c.navigateByCenterClick||(a._q=a._h?a._b4:a._c4);c.center&&a._e1.css("margin-"+(a._h?"left":"top"),a._d)}))};d.rsModules.visibleNearby=d.rsProto._f7})(jQuery);;;(function($){var pluginName='selectric',_replaceDiacritics=function(s){var k,d='40-46 50-53 54-57 62-70 71-74 61 47 77'.replace(/\d+/g,'\\3$&').split(' ');for(k in d){if(!d.hasOwnProperty(k))
return;s=s.toLowerCase().replace(RegExp('['+d[k]+']','g'),'aeiouncy'.charAt(k));}
return s;},format=function(f){var a=arguments;return(""+f).replace(/{(\d+|(\w+))}/g,function(s,i,p){return p&&a[1]?a[1][p]:a[i]})},init=function(element,options){options=$.extend(true,{onOpen:$.noop,onClose:$.noop,onChange:$.noop,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:true,openOnHover:false,expandToItemText:false,responsive:false,type:'select',customClass:{prefix:'selectric',postfixes:'Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive',camelCase:true},optionsItemBuilder:'{text}'},options);var customClass=options.customClass,postfixes=customClass.postfixes.split(' '),arrClasses=[],currPostfix;if(options.disableOnMobile&&/android|ip(hone|od|ad)/i.test(navigator.userAgent))return;while((currPostfix=postfixes.shift())){var c=customClass.prefix+currPostfix;arrClasses.push(customClass.camelCase?c:c.replace(/([A-Z])/g,"-$&").toLowerCase());}
var $original=$(element),_input=$('<input type="text" class="'+arrClasses[0]+'"/>'),$wrapper=$('<div class="'+customClass.prefix+'"><p class="label"/>'+options.arrowButtonMarkup+'</div>'),$items=$('<div class="'+arrClasses[1]+'" tabindex="-1"></div>'),$outerWrapper=$original.data(pluginName,true).wrap('<div>').parent().append($wrapper.add($items).add(_input)),selectItems=[],isOpen,$label=$('.label',$wrapper),$li,bindSufix='.sl',$doc=$(document),$win=$(window),clickBind='click'+bindSufix,resetStr,classOpen=arrClasses[2],classDisabled=arrClasses[3],tempClass=arrClasses[4],selectStr='selected',selected,currValue,itemsHeight,closeTimer,finalWidth,optionsLength,inputEvt='oninput'in _input[0]?'input':'keyup';$original.wrap('<div class="'+arrClasses[5]+'">');function _populate(){var $options=$original.children(),_$li='<ul>',selectedIndex=$options.filter(':'+selectStr).index();currValue=(selected=~selectedIndex?selectedIndex:0);if(optionsLength=$options.length){$options.each(function(i){var $elm=$(this),optionText=$elm.html(),selectDisabled=$elm.prop('disabled'),itemBuilder=options.optionsItemBuilder;selectItems[i]={value:$elm.val(),text:optionText,slug:_replaceDiacritics(optionText),disabled:selectDisabled};_$li+=format('<li class="{1}">{2}</li>',$.trim([i==currValue?selectStr:'',i==optionsLength-1?'last':'',selectDisabled?'disabled':''].join(' ')),$.isFunction(itemBuilder)?itemBuilder(selectItems[i],$elm,i):format(itemBuilder,selectItems[i]));});$items.html(_$li+'</ul>');$label.html(selectItems[currValue].text);}
$wrapper.add($original).off(bindSufix);$outerWrapper.data(pluginName,true).prop('class',[arrClasses[6],$original.prop('class'),classDisabled,options.responsive?arrClasses[8]:''].join(' '));if(!$original.prop('disabled')){$outerWrapper.removeClass(classDisabled).hover(function(){$(this).toggleClass(arrClasses[7]);});options.openOnHover&&$wrapper.on('mouseenter'+bindSufix,_open);$wrapper.on(clickBind,function(e){isOpen?_close():_open(e);});function _handleSystemKeys(e){if(/^(9|13|27)$/.test(e.keyCode||e.which)){e.stopPropagation();_select(selected,true);}}
_input.prop('disabled',false).off().on({keypress:_handleSystemKeys,keydown:function(e){_handleSystemKeys(e);clearTimeout(resetStr);resetStr=setTimeout(function(){_input.val('');},options.keySearchTimeout);var key=e.keyCode||e.which;if(key>36&&key<41)
_select(key<39?previousEnabledItem():nextEnabledItem());},focusin:function(e){_input.one('blur',function(){_input.blur();});isOpen||_open(e);}}).on(inputEvt,function(){if(_input.val().length){$.each(selectItems,function(i,elm){if(RegExp('^'+_input.val(),'i').test(elm.slug)&&!elm.disabled){_select(i);return false;}});}});$li=$('li',$items.removeAttr('style')).click(function(){_select($(this).index(),true);return false;});}else
_input.prop('disabled',true);}
_populate();function _calculateOptionsDimensions(){var visibleParent=$items.closest(':visible').children(':hidden'),maxHeight=options.maxHeight;visibleParent.addClass(tempClass);var itemsWidth=$items.outerWidth(),wrapperWidth=$wrapper.outerWidth()-(itemsWidth-$items.width());if(!options.expandToItemText||wrapperWidth>itemsWidth)
finalWidth=wrapperWidth;else{$items.css('overflow','scroll');$outerWrapper.width(9e4);finalWidth=$items.width();$items.css('overflow','');$outerWrapper.width('');}
$items.width(finalWidth).height()>maxHeight&&$items.height(maxHeight);visibleParent.removeClass(tempClass);}
function _open(e){e.preventDefault();e.stopPropagation();_calculateOptionsDimensions();$('.'+classOpen).removeClass(classOpen);isOpen=true;itemsHeight=$items.outerHeight();_input.val('').is(':focus')||_input.focus();$doc.on(clickBind,_close).on('scroll'+bindSufix,_isInViewport);_isInViewport();if(options.openOnHover){clearTimeout(closeTimer);$outerWrapper.one('mouseleave'+bindSufix,function(){closeTimer=setTimeout(_close,500);});}
$outerWrapper.addClass(classOpen);_detectItemVisibility(selected);options.onOpen(element);}
function _isInViewport(){if(options.type=='select'){_calculateOptionsDimensions();$items.css('top',($outerWrapper.offset().top+$outerWrapper.outerHeight()+itemsHeight>$win.scrollTop()+$win.height())?-itemsHeight:'');}}
function _close(e){if(!e&&currValue!=selected){var text=selectItems[selected].text;$original.prop('selectedIndex',currValue=selected).data('value',text).trigger('change',[text,currValue]);options.onChange(element);$label.html(text);}
$doc.off(bindSufix);$outerWrapper.removeClass(classOpen);isOpen=false;options.onClose(element);}
function _select(index,close){if(!selectItems[selected=index].disabled){$li.removeClass(selectStr).eq(index).addClass(selectStr);_detectItemVisibility(index);close&&_close();}}
function _detectItemVisibility(index){var liHeight=$li.eq(index).outerHeight(),liTop=$li[index].offsetTop,itemsScrollTop=$items.scrollTop(),scrollT=liTop+liHeight*2;$items.scrollTop(scrollT>itemsScrollTop+itemsHeight?scrollT-itemsHeight:liTop-liHeight<itemsScrollTop?liTop-liHeight:itemsScrollTop);}
function nextEnabledItem(next){if(selectItems[next=(selected+1)%optionsLength].disabled)
while(selectItems[next=(next+1)%optionsLength].disabled){}
return next;}
function previousEnabledItem(previous){if(selectItems[previous=(selected>0?selected:optionsLength)-1].disabled)
while(selectItems[previous=(previous>0?previous:optionsLength)-1].disabled){}
return previous;}
$original.on({refresh:_populate,destroy:function(){$items.add($wrapper).add(_input).remove();$original.removeData(pluginName).removeData('value').off(bindSufix+' refresh destroy open close').unwrap().unwrap();},open:_open,close:_close});};$.fn[pluginName]=function(args,options){return this.each(function(){if(!$(this).data(pluginName))
init(this,args||options);else if(''+args===args)
$(this).trigger(args);});};}(jQuery));;
var killerDealContainer=$(document.getElementById('killerDealContainer'));var killerDealOptions={arrowsNav:true,loop:true,keyboardNavEnabled:true,controlsInside:false,imageScaleMode:'fill',arrowsNavAutoHide:false,autoScaleSlider:true,autoScaleSliderWidth:980,autoScaleSliderHeight:476,transitionType:'fade',controlNavigation:'bullets',fitInViewport:false,autoPlay:{enabled:true,pauseOnHover:true,stopAtAction:false,delay:3500},imgWidth:980,imgHeight:476}
frontvpg.initKillerDealPlugin=function(){slider=killerDealContainer.royalSlider(killerDealOptions).data('royalSlider');slider.stopAutoPlay();slider.ev.on('rsAfterContentSet',function(){if(killerDealContainer.find('.killerDealContent').length>1){killerDealContainer.find('.rsArrow.rsArrowLeft').html('<i class="rsArrowIcn icon-arrow-left-t1"></i>');killerDealContainer.find('.rsArrow.rsArrowRight').html('<i class="rsArrowIcn icon-arrow-right-t1"></i>');}else{killerDealContainer.find('.rsBullets').remove();}
displayKillerDealContainer();addKillerDealEvent();});slider.ev.on('rsBeforeMove',function(){displayKillerDealContainer();});$(window).load(function(){slider.updateSliderSize(true);});frontvpg.killerdealObject=slider;}
function displayKillerDealContainer(){$('.rsImg, .rsArrow, .rsNav').fadeIn(function(){$('.rsOverflow, .killerDealContent').fadeIn('slow');});frontvpg.updateKillerDearPictures();}
function addKillerDealEvent(){killerDealContainer.find('.killerDealContent').on('click',function(){slider.stopAutoPlay();});}
var trailerOptions={arrowsNav:true,addActiveClass:true,loop:true,blockLoop:true,keyboardNavEnabled:true,controlsInside:false,imageScaleMode:'fill',arrowsNavAutoHide:false,controlNavigationSpacing:0,fadeinLoadedSlide:false,numImagesToPreload:6,transitionType:'move',controlNavigation:'none',fitInViewport:false,usePreloader:true,autoPlay:{enabled:true,delay:3500,pauseOnHover:false}}
frontvpg.initTrailer=function(saleId){frontvpg.showReminder=false;sliderTrailer=$(document.getElementById('trailerContainer')).royalSlider(trailerOptions).data('royalSlider');sliderTrailer.ev.on('rsAfterContentSet',function(){var trailerContainer=$(document.getElementById('trailerContainer'));trailerContainer.find('.rsArrow.rsArrowLeft').html('<i class="icon-arrow-left-t1"></i>');trailerContainer.find('.rsArrow.rsArrowRight').html('<i class="icon-arrow-right-t1"></i>');trailerContentContainer=$(document.getElementById('titleBarContainer'));checkSubscribe(saleId);trailerContentContainer.find('.slideCount').html((sliderTrailer.currSlideId+1)+'/'+sliderTrailer.numSlides);trailerContentContainer.find('.slideLegend').html(sliderTrailer.currSlide.caption);$('.vpRoyalSlider_loading').fadeOut(function(){$(document.getElementById('modal-trailer')).fadeIn('slow');sliderTrailer.updateSliderSize(true);});});sliderTrailer.ev.on('rsBeforeMove',function(event,type,userAction){sliderTrailer.updateSliderSize(true);});sliderTrailer.ev.on('rsAfterSlideChange',function(){trailerContentContainer.find('.slideCount').html((sliderTrailer.currSlideId+1)+'/'+sliderTrailer.numSlides);trailerContentContainer.find('.slideLegend').html(sliderTrailer.currSlide.caption);});$(document.getElementById('titleBarContainer')).on('click','.modal-trailer-link',function(event){frontvpg.clickSubscribe(saleId,this,true,function(){frontvpg.showReminder=true;checkSubscribe(saleId);});});}
function checkSubscribe(sid)
{if((frontvpg.salesCookie!=null&&frontvpg.salesCookie[sid])){if(frontvpg.showReminder){trailerContentContainer.find('.slideCount').hide();trailerContentContainer.find('.reminder').show();}
else
{trailerContentContainer.find('.slideCount').show();trailerContentContainer.find('.reminder').hide();}
trailerContentContainer.find('.subscribeButton').hide();}
else
{trailerContentContainer.find('.subscribeButton').show();trailerContentContainer.find('.slideCount').hide();trailerContentContainer.find('.reminder').hide();}}
var saleSliderOptions={addActiveClass:true,arrowsNav:true,controlNavigation:'bullets',arrowsNavAutoHide:false,sliderDrag:true,imageScaleMode:'none',imageAlignCenter:false,autoScaleSlider:true,autoScaleSliderWidth:956,autoScaleSliderHeight:491,autoHeight:true,navigateByClick:false,imageScalePadding:0,slidesSpacing:2,loop:true,allowCSS3:false,fadeinLoadedSlide:false,visibleNearby:{enabled:true,centerArea:0.6,center:false,breakpoint:979,breakpointCenterArea:1,navigateByCenterClick:true},transitionSpeed:800,globalCaption:true,globalCaptionInside:false,keyboardNavEnabled:true,imgWidth:956,imgHeight:491}
sliderSale=$(document.getElementById('full-width-slider')).royalSlider(saleSliderOptions).data('royalSlider');if(sliderSale){carouselContainer=$(document.getElementById('carousel-sale'));sliderSale.ev.on('rsBeforeMove',function(){$(document.getElementById('carousel-sale')).find('.rsSlide div.rsABlock').fadeOut(180);});sliderSale.ev.on('rsAfterSlideChange',function(event){$(document.getElementById('carousel-sale')).find('.rsSlide.rsActiveSlide div.rsABlock').fadeIn(180);});sliderSale.ev.on('rsAfterContentSet',function(){carouselContainer.find('.buttons-container').appendTo(carouselContainer.find('.rsVisibleNearbyWrap'));var trackingLeft='ga-tracker="Product Page" ga-action="Photo Nav Clicked" ga-label="Arrow Left" ea-productaction="Product Page - Slideshow - Arrow Left"';var trackingRight='ga-tracker="Product Page" ga-action="Photo Nav Clicked" ga-label="Arrow Right" ea-productaction="Product Page - Slideshow - Arrow Right"';carouselContainer.find('.rsArrow.rsArrowLeft').html('<i class="rsArrowIcn icon-arrow-left-t2 vpTrackClick" '+trackingLeft+'></i>').prependTo('.buttons-container .centeredBtn');carouselContainer.find('.rsArrow.rsArrowRight').html('<i class="rsArrowIcn icon-arrow-right-t2 vpTrackClick" '+trackingRight+'></i>').prependTo('.buttons-container .centeredBtn');carouselContainer.find('.rsFullscreenBtn').show();carouselContainer.find('.rsContent div.rsABlock .legendContainer .legendWrapper').css('visibility','visible');carouselContainer.find('.rsOverflow, .rsContent').fadeIn('slow');});$(window).load(function(){sliderSale.updateSliderSize(true);});};
function formatDate(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.weekdaysShort:null)||calendarI18n.weekdaysShort,dayNames=(settings?settings.weekdays:null)||calendarI18n.weekdays,monthNamesShort=(settings?settings.monthNamesShort:null)||calendarI18n.monthNamesShort,monthNames=(settings?settings.months:null)||calendarI18n.months,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;};
var myLatLng;var map;function initMaps(){if(map_longitude.match(/[0-9]{1,3}\.[0-9]{4,}/i)&&map_latitude.match(/[0-9]{1,3}\.[0-9]{4,}/i)){myLatLng=new google.maps.LatLng(map_latitude,map_longitude);}
else if(map_address.length>0){geocoder=new google.maps.Geocoder();geocoder.geocode({'address':map_address},function(results,status){if(status==google.maps.GeocoderStatus.OK){coords=results[0].geometry.location;myLatLng=new google.maps.LatLng(coords.lat(),coords.lng());}});}
else{return false;}
google.maps.visualRefresh=true;google.maps.event.addDomListener(window,'load',showGoogleMap);google.maps.event.addDomListener(window,'resize',showGoogleMap);}
function showGoogleMap(){if(typeof this.loaded=='undefined'){this.loaded=false;}
if((this.loaded==false)&&($("#map-canvas").parents('section.content-container').css('display')=="block")){this.loaded=true;var myOptions={center:myLatLng,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:false,zoomControl:true};map=new google.maps.Map(document.getElementById("map-canvas"),myOptions);var marker=new google.maps.Marker({position:myLatLng,map:map});}};
!function($){$('#btn-cancel-favorite').on('click',function(){window.location.href='#!';});$('.icon-fav-less').on('click',function(){var dream_id=$(this).parent().data('id');frontvpg.deleteDream(dream_id);return false;});frontvpg.storeToCookie=function(name,value){var now=new Date();var cookieExpires=now.setFullYear(now.getFullYear()+1);document.cookie=name+"="
+JSON.stringify(value)+"; path=/ ; domain="
+frontvpg.cookieDomain+"; expires="+cookieExpires;}
frontvpg.populateSelectric=function(items){$("#favorite-user-dream-boards").empty();$("#favorite-user-dream-boards").append(items.join("\n"));$("#favorite-user-dream-boards option:first").attr('selected','selected');$('#favorite-user-dream-boards').selectric({disableOnMobile:false});}
frontvpg.saveNewDream=function(){$.ajax({type:"POST",url:"/favorites/add",async:false,data:{'saleId':saleIdFromUrl,'media':(frontvpg.targets['desktop']?'www':'mobile'),'saleImageId':saleImageId}}).done(function(){$(document.getElementById('open-favorite')).addClass('isFavorite');});}
frontvpg.deleteDream=function(dream_id){$.ajax({type:"POST",url:"/favorites/delete",async:false,data:{'dream_id':dream_id}}).done(function(){$('a[data-id='+dream_id+']').parent().hide("slow");var noFavsTranslation="Vous ne disposez pas de favoris";var singularFavsTranslation=frontvpg.tradWithParams("Vous avez %nb favori. Retrouvez-le également sur le site mobile et sur vos applications iPhone et iPad.",{'nb':'<span class="nbFavorites">1</span>'});var nbFavoritesContainer=$('#offers-favorites-container p.subtitle .nbFavorites');var nbFavorites=parseInt(nbFavoritesContainer.text())-1;if(nbFavorites==0){$('#offers-favorites-container p.subtitle').text(noFavsTranslation);}else if(nbFavorites==1){$('#offers-favorites-container p.subtitle').html(singularFavsTranslation);}else{nbFavoritesContainer.text(nbFavorites);}});}}(window.jQuery);
(function($){$.fn.customSelectric=function(selectricOptions,magnificPopupOptions){var _select=this;var _options=$.extend(true,{disableOnMobile:false,responsive:true,isFirstInit:true,type:'select',maxHeight:300,beforeOpenFunction:'',beforeCloseFunction:''},selectricOptions);$(_select).selectric({disableOnMobile:_options.disableOnMobile,responsive:_options.responsive,type:_options.type,isFirstInit:_options.isFirstInit,maxHeight:_options.maxHeight,beforeOpenFunction:_options.beforeOpenFunction,beforeCloseFunction:_options.beforeCloseFunction,onOpen:function(item)
{if(_options.beforeOpenFunction!==''&&typeof window[_options.beforeOpenFunction]=='function')
{window[_options.beforeOpenFunction](item);}
if(_options.type=='popin')
{frontvpg.hideBookingData(item);var $wrappers=$(_select).parents('.selectricWrapper');$wrappers.each(function(){var offerIndex=$(this).find('.selectricHideSelect').find('select').attr('data-offer');var selectName=$(this).find('.selectricHideSelect').find('select').attr('name');$(this).find('.selectric').attr("data-mfp-src",".mfp-popup"+offerIndex);$(this).find('.selectricItems').addClass('mfp-popup mfp-popup'+offerIndex+' mfp-hide '+selectName).removeClass('selectricItems');});if(_options.isFirstInit)
{initMagnificPopUp($wrappers.find('.selectric'),magnificPopupOptions);$(item).selectric('close');_options.isFirstInit=false;var currentOfferIndex=$(item).attr('data-offer');if($('.selectric[data-mfp-src=".mfp-popup'+currentOfferIndex+'"]').length){$('.selectric[data-mfp-src=".mfp-popup'+currentOfferIndex+'"]').trigger('click');}}
else
{frontvpg.resizePopin();}
$('.mfp-popup li[class!=disabled]').on('click',function(){frontvpg.popup.close();});$('.selectricOpen').css('z-index',1);}},onClose:function(item){if(_options.beforeCloseFunction!==''&&typeof window[_options.beforeCloseFunction]=='function')
{window[_options.beforeCloseFunction](item);}}});disableKeybordOnMobile();};}(jQuery));initMagnificPopUp=function(selector,options){var startWindowScroll;if(typeof options=="undefined")
{options={alignTop:true,fixedContentPos:true,callbacks:{open:function(){frontvpg.popinOpened=true;frontvpg.popup=this;this.content.show();$('body').css({'overflow':'hidden','max-height':$(window).height(),'position':'fixed'});frontvpg.resizePopin();},beforeOpen:function(){startWindowScroll=$(window).scrollTop();},close:function(){frontvpg.popinOpened=false;$('body').css({'overflow':'auto','max-height':'inherit','position':'inherit'});$(window).scrollTop(startWindowScroll);}}}}
selector.magnificPopup(options);}
disableKeybordOnMobile=function(){$('div.form-container').each(function(){$(this).find('input.selectricInput').prop('disabled',true);$(this).find('input.selectricInput').attr('readonly',true);});};
(function($){$.fn.scarcity=function(options){var _select=this;var _options=$.extend(true,{type:'select',default_city_code:'XXX',provider:{sid:saleIdFromUrl,decode:true,version:2,with_dispos:1}},options);$(_select).customSelectric({disableOnMobile:false,responsive:true,type:_options.type,maxHeight:_options.type=='popin'?'inherit':300,beforeOpenFunction:'scarcityData',beforeCloseFunction:'scarcityLabel'});scarcityData=function(item){var offerIndex=getOfferIndex(item);$.fn.scarcity.requestProvider(offerIndex);var city_code=_getCityCode(item);if(!frontvpg.built[offerIndex]||frontvpg.built[offerIndex]!=city_code){frontvpg.built[offerIndex]=city_code;build(item);}}
scarcityLabel=function(item){var $selectDate=$(item).parents('div.selectDate:first');var offerIndex=getOfferIndex(item);var city_code=_getCityCode(item);var selectedDate=$(item).find(':selected').attr('data');if(typeof(selectedDate)!="undefined"){var dateData=frontvpg.providerData[offerIndex].dispos[city_code][selectedDate];var isDP=frontvpg.providerData[offerIndex].is_dp;var $label=$selectDate.find('div.selectric').children('.label');var labelClosed=generateDispoContent(dateData,true,isDP);$label.html(labelClosed);}}
_getCityCode=function(item){var $selectDepartureCity=$(item).parents('li.offer:first').find('.selectChoice[name="depCityCode"]');var city_code=_options.default_city_code;if($selectDepartureCity.length>0){city_code=$selectDepartureCity.val();}
return city_code;}
$.fn.scarcity.requestProvider=function(offerIndex){frontvpg.openPopup=false;if(!frontvpg.loaded[offerIndex]){_options.provider.oid=offerIndex;if(isAdmin){_options.provider.is_admin=1;}
if(isPreview==true){$('#page-container .page-center').addClass('opacitySDVLoaded');$(document.getElementById('page-container')).prepend('<img class="ajax-loader" src="/s/images/loader.gif">');}
frontvpg.loaded[offerIndex]=$.ajax({dataType:"json",async:false,global:false,url:providerUrl,data:_options.provider,success:function(results){frontvpg.providerData[offerIndex]=results;if(isPreview==true&&results.error==0){updated=updateOfferGeneralInfo(offerIndex,results);$('#page-container .page-center').removeClass('opacitySDVLoaded');$('.ajax-loader').remove();if(updated!=false){frontvpg.providerData[offerIndex]=results.data.data.offres[offerIndex];frontvpg.providerData[offerIndex].error=results.error;}else{frontvpg.providerData[offerIndex].error=1;}}}});}};build=function(item){var offerIndex=getOfferIndex(item);var city_code=_getCityCode(item);if(frontvpg.loaded[offerIndex].state()=='pending'){setTimeout(function(){build(item);},200);return;}
if(frontvpg.providerData[offerIndex].error==0){$(item).find('option[value!=""]').remove();var dispos=frontvpg.providerData[offerIndex].dispos[city_code];var isDP=frontvpg.providerData[offerIndex].is_dp;$.each(dispos,function(key,city_start){var $depart_time=new Date(parseInt(city_start.start)*1000);var $value=city_start.offer_id+'_'+formatDateScarcity($depart_time,'dd-mm-yy')+'_'+city_start.days+"_"+city_start.nights;var $content=generateDispoContent(city_start,false,isDP);var $option=$("<option/>").attr('value',$value).attr('data',key).append($content);if(city_start.status==0){$option=$option.prop('disabled',true);}
$(item).append($option);});$(item).selectric('refresh');if(_options.type!='popin'){$(item).selectric('open');}
if(typeof frontvpg.popup!=="undefined"&&!$('.mfp-container').find('.mfp-close').length)
{$('.mfp-container').find('.mfp-popup').append(frontvpg.popup.st.closeMarkup);}}};getOfferIndex=function(item){return $(item).attr('data-offer').toString();};generateDispoContent=function(city_start,lightMode,isDP){if(typeof(lightMode)=="undefined"){lightMode=false;}
var $depart_time=new Date(parseInt(city_start.start)*1000);var adateDepart=formatDateScarcity($depart_time);var $arrival_time=new Date(parseInt(city_start.end)*1000);var adateArrival=formatDateScarcity($arrival_time);var $date=$("<p>");if(lightMode){$date.html(adateDepart+"&nbsp;-&nbsp;");}
else{$date.html('du <strong>'+adateDepart+'</strong> au '+adateArrival);}
var $discount;var $price;if(isDP||browseData.display_type=="price"){$price=$("<span>").html(' à partir de');var $salePrice=$("<span>").addClass('total-price').html(' '+numeral(city_start.sale_price).format());$price.append($salePrice);}else{$price=$("<span>").addClass('total-price').html(numeral(city_start.sale_price).format());if(browseData.display_type!="exclusive"){if(lightMode){$price.append(" ");}
if(lightMode){$discount=$("<del>").addClass('total-discount').html(numeral(city_start.real_price).format());}
else{$discount=$("<span>").addClass('total-discount').html(' au lieu de <del>'+numeral(city_start.real_price).format()+'</del>');}}}
var $dispo=manageDisponibilies(city_start);var $content=$('<p class="dispoContainer">');if(lightMode){if(isDP||browseData.display_type=="price"||browseData.display_type=="exclusive"){$date.append($price);}else{$date.append($price).append($discount);}
$content.append($dispo);}else{$content.append($price).append($discount).append($dispo);}
return $date[0].outerHTML+$content[0].outerHTML;}
openOnCityChoice=function(){var $select=$(this).find('select');$select.prop('disabled',false);$select.selectric('refresh');$select.find('option:first').attr('selected',"selected");$select.find('option[value!=""]').remove();};updateOfferGeneralInfo=function(offerIndex,results){if(typeof results.data.data.offres[offerIndex]=="undefined"){$soldoutBanner=$('<figure>').attr('class','soldout-sale-figure');$soldoutImage=$('<img>').attr('src',"/s/images/locale/fr/soldout-banner-fr.png")
$soldoutBanner.html($soldoutImage);$('.offer-id-'+offerIndex+' h4').prepend($soldoutBanner);return false;}
currentOffer=results.data.data.offres[offerIndex];if(currentOffer.is_dispo==1){$lastRoomLabel=$('<span>').attr('class','lastRoom').html("Dernières places");$('.offer-id-'+offerIndex+' h4').append(": ",$lastRoomLabel);}
$pricesElement=$('.offer-id-'+offerIndex+' .prices');$priceInfoElement=$('#sale-container-right .price_info p#paragraph-type-loc');$pricePromo=$pricesElement.find('.price .priceContent .pricePromo');$priceByType=$pricesElement.find('.price .priceContent .priceByType');$insteadOfPrice=$pricesElement.find('.price .delPrice del b');priceByTypeContent=currentOffer.with_taxes?"TTC/":"themeV4.sale.offer.without_taxes/";if(currentOffer.type=='loc'){priceByTypeContent+="logement**";}else{priceByTypeContent+="personne*";}
$pricePromo.html(numeral(currentOffer.prix_promo).format());$insteadOfPrice.html(numeral(currentOffer.prix).format());$priceByType.html(priceByTypeContent);if(currentOffer.type=='loc'&&$priceInfoElement.length==0){$locParagraph=$("<p>").attr("id","paragraph-type-loc").html("* prix à partir de, toutes taxes comprises, par logement ");$('#sale-container-right .price_info').append($locParagraph);}
if(!currentOffer.isDP){$discountElement=$pricesElement.find('.discount .big');$discountElement.html('-'+currentOffer.pct_reduc+'%');}
return true;}
this.on('open',openOnCityChoice);return this;};}(jQuery));formatDateScarcity=function(dt,format){var utc=dt.getTime()+(5*3600000);var datetime=new Date(utc);if(typeof format=='undefined'){format='D dd M y';}
var aDate=formatDate(format,datetime);return aDate;}
manageDisponibilies=function(city_start){var $dispo=null;if(city_start.status==0){$dispo=$("<span>").html(' '+'Epuisé');}else{if(parseInt(city_start.stock)<=parseInt('3')){var $stock=labelByPackage(city_start);$dispo=$("<span class='dispoRest'>").html(' '+$stock);}else{$dispo=$("<span>").html(' '+'Disponible');}}
$dispo.addClass("dispo");return $dispo;}
labelByPackage=function(city_start){switch(city_start.package_product_line){case"T":case"C":if(city_start.package_product_line=='C'||city_start.package_theme=="C"){if(city_start.stock>1){return frontvpg.tradWithParams("reste %nb cabines",{'nb':city_start.stock});}
return frontvpg.tradWithParams("reste 1 cabine",{'nb':city_start.stock});}
break;case"L":case"P":nbPlaces=parseInt(city_start.stock)*2;return frontvpg.tradWithParams("reste %nb places",{'nb':nbPlaces});break;case"S":case"E":if(city_start.stock>1){return frontvpg.tradWithParams("reste %nb logements",{'nb':city_start.stock});}
return frontvpg.tradWithParams("reste 1 logement",{'nb':city_start.stock});break;}
if(city_start.stock>1){return frontvpg.tradWithParams("reste %nb chambres",{'nb':city_start.stock});}
return frontvpg.tradWithParams("reste 1 chambre",{'nb':city_start.stock});};
frontvpg.registerCommonHandlebarsHelpers=function(d1){Handlebars.registerHelper('dynamicPathPicture',function(format,imagePath){return frontvpg.dynamicPath(format,imagePath);});Handlebars.registerHelper('saleSchedule',function(isNext,shortVersion){if(shortVersion===undefined)shortVersion=false;if(this.browse_data!==undefined){var browse_data=this.browse_data}else{var browse_data=this.sale.browse_data}
var formatDate=browse_data.end_date;if(isNext){formatDate=browse_data.start_date;}
return frontvpg.manageSchedule(formatDate,isNext,shortVersion);});Handlebars.registerHelper('salePriceFlag',function(typeParam){if(this.browse_data){var browse_data=this.browse_data;var pctType=this.pct_alt;}
else if(this.sale&&this.sale.browse_data){var browse_data=this.sale.browse_data;var pctType=this.sale.pct_alt;}else{var browse_data=this;var pctType=this.display_type;}
priceFlagReturned=frontvpg.managePriceDisplay(browse_data,pctType);priceFlagText=null;if(typeof typeParam!=="undefined")
{priceFlagText=priceFlagReturned[typeParam];if(frontvpg.targets.mobile&&typeParam=='titleBefore'&&priceFlagText.length>0)
{title=$($.parseHTML(priceFlagReturned[typeParam]));priceFlagText=ellipsize(title.text(),9);}}
return priceFlagText;});Handlebars.registerHelper('displayTitleSale',function(){var data=this;if(this.sale!==undefined){var data=this.sale;}
var defaultTitle=data.browse_data.title;if(isAdmin&&data.active!=='published'){defaultTitle=frontvpg.adminSuffix+' '+defaultTitle;}
return defaultTitle;});Handlebars.registerHelper('displayTitle',function(){var data=this;if(this.sale!==undefined){var data=this.sale;}
var displayTitle=data.nom_pays+"&nbsp;/&nbsp;"+data.nom_ville;if(typeof data.browse_data.sb_location!=='undefined'&&data.browse_data.sb_location.enabled==true&&data.browse_data.sb_location.text!=null){displayTitle=data.browse_data.sb_location.text;}
return displayTitle;});Handlebars.registerHelper('saleUrl',function(){var url='/fiche-produit/details';var sale_id=this.id;if(this.browse_data){var browse_data=this.browse_data;}
else if(this.sale&&this.sale.browse_data){var browse_data=this.sale.browse_data;sale_id=this.sale.id;}else{var browse_data=this;}
var d2=new Date(browse_data.start_date*1000);if(d1>d2||isAdmin)
{return'href="'+url+'/'+sale_id+'"';}
return'onclick="frontvpg.clickSubscribe('+sale_id+', this)"';});Handlebars.registerHelper('recentViewSaleUrl',function(queryParameter,queryValue,hasResumeBooking){var url='/fiche-produit/details';var resumeUrl='/sale/resumeBooking';var queryString='';if(typeof hasResumeBooking!=='undefined'){return'href='+resumeUrl+'/'+this.sale_id;}
if(typeof queryParameter!=='undefined'&&typeof queryValue!=='undefined')
{queryString='?'+queryParameter+'='+encodeURIComponent(queryValue);}
return'href='+url+'/'+this.sale_id+queryString;});Handlebars.registerHelper('resumeBookingUrl',function(){var url='/sale/resumeBooking';return'href='+url+'/'+this.sale_id;});Handlebars.registerHelper('ellipse',ellipsize);function ellipsize(title,length,end_text,concat,separator){if(typeof title==='undefined'||typeof title==='object')
{title='';}
if(typeof length==='undefined'||typeof length==='object')
{length=28;}
if(typeof end_text==='undefined'||typeof end_text==='object')
{end_text='...';}
if(typeof concat==='undefined'||typeof concat==='object')
{concat='';}
if(typeof separator==='undefined'||typeof separator==='object')
{separator='/';}
if(concat.length>0)
{concatenated=title+separator+concat;}
else
{concatenated=title;}
if(concatenated.length>length)
{return concatenated.substr(0,length-3)+end_text;}
return concatenated;}
Handlebars.registerHelper('handleRibbon',function(){var response='';if(this.browse_data){var browse_data=this.browse_data;var pctType=this.pct_alt;}else if(this.sale!==undefined){var browse_data=this.sale.browse_data;var pctType=this.sale.pct_alt;}else{var browse_data=this;var pctType=this.display_type;}
var priceFlagReturned=frontvpg.managePriceDisplay(browse_data,pctType);switch(pctType)
{case'pct':var label='Jusqu\'à';response='<span id="ribbon-txt-1">'+label+'<br/></span><span id="ribbon-txt-2">'+priceFlagReturned.price+jQuery.trim(priceFlagReturned.titleAfter)+'</span>';break;case'price':priceFlagReturned.price=priceFlagReturned.price.replace('.','');var extraClass='';var priceLength=priceFlagReturned.price.length;if((priceLength>=4)&&(priceLength<6)){extraClass='medium_text';}
if(priceLength>=6){extraClass='small_text';}
var labelFirstLine='A partir de';response='<span id="ribbon-txt-1">'+labelFirstLine+'<br/></span><span  class="'+extraClass+'" id="ribbon-txt-3">'+(numeral(priceFlagReturned.price).format())+'</span>';break;case'saved up':var labelFirstLine='Réduction jusqu\'à';priceFlagReturned.price=priceFlagReturned.price.replace('.','');var price=numeral(priceFlagReturned.price).format();var priceLength=price.length;if((priceLength>=4)&&(priceLength<6)){extraClass='medium_text';}
if(priceLength>=6){extraClass='small_text';}
response='<span id="ribbon-txt-5">'+labelFirstLine+'</span><span class="'+extraClass+'" id="ribbon-txt-2">'+price+'</span>';break;default:response='<span id="ribbon-txt-4">'+priceFlagReturned.price+'</span>';break;}
return response;});};
frontvpg.registerHandlebarsHelpers=function(){Handlebars.registerHelper('ifOperator',function(c1,operator,c2,options){switch(operator){case'&&':return(c1&&c2)?options.fn(this):options.inverse(this);case'||':return(c1||c2)?options.fn(this):options.inverse(this);case'==':return(c1==c2)?options.fn(this):options.inverse(this);default:return options.inverse(this);}});Handlebars.registerHelper('modulo',function(a,b,block){return(a%b==0)?block.fn():block.inverse();});Handlebars.registerHelper('getParams',function(key){return(typeof key!=='undefined'&&key in frontvpg.templateParams)?frontvpg.templateParams[key]:null;;});Handlebars.registerHelper('dateFormat',function(date,format){var formatedDate=date.substring(0,10);return formatDate(format,new Date(formatedDate));});Handlebars.registerHelper('getReviewAuthor',function(){var firstName=this.customer.firstname.toLowerCase();var lastName=this.customer.lastname.toLowerCase();return frontvpg.ucfirst(firstName+' '+frontvpg.ucfirst(lastName.substr(0,1))+frontvpg.templateParams['review_comment_trip_with_text']+frontvpg.templateParams['review_comment_trip_with_'+this.customer.trip_with]);});Handlebars.registerHelper("math",function(lvalue,operator,rvalue,withComma){var calcul;lvalue=parseFloat(lvalue);rvalue=parseFloat(rvalue);switch(operator){case"+":calcul=lvalue+rvalue;break;case"-":calcul=lvalue-rvalue;break;case"*":calcul=lvalue*rvalue;break;case"/":calcul=lvalue/rvalue;break;case"%":calcul=lvalue%rvalue;break;}
return(withComma)?calcul.toString().replace('.',','):calcul;});};
var videoContainer=$(".video-container");if(videoContainer.length>0){var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);function onYouTubeIframeAPIReady(){videoContainer.each(function(index){$(this).append('<div id="player-'+index+'"></div>');new YT.Player('player-'+index,{height:'390',width:'640',videoId:frontvpg.getYouTubeIdFromURL(youtubeId[index]),playerVars:{wmode:"opaque"}});});}};
!function($){$(function(){frontvpg.modalShareId="modal-share";frontvpg.modalFavoriteId="modal-favorite";frontvpg.modalMessageId="modal-message";frontvpg.remainingTimeHours="Fin de la vente dans <span>%hh %mm</span>";frontvpg.remainingDay="Fin de la vente dans <span>%dj %hh %mm</span>";frontvpg.remainingDays="Fin de la vente dans <span>%dj %hh %mm</span>";frontvpg.nextRemainingDays="Ouvre dans %d jours";frontvpg.nextRemainingDay="Ouvre demain";frontvpg.hashModalUsed.push(frontvpg.modalShareId,frontvpg.modalFavoriteId,frontvpg.modalMessageId);frontvpg.defaultRatioImage="v";frontvpg.shortRemainingDay="Reste %d jour";frontvpg.shortRemainingDays="Reste %d jours";frontvpg.shortRemainingTimeHour="Reste %h h %m m";frontvpg.shortRemainingTimeHours="Reste %h h %m m";frontvpg.popinOpened=false;if(typeof frontvpg.hashModalUsed!="undefined"){frontvpg.hashModalUsed.push("modal-share","modal-favorite","modal-message");}
if(typeof map_address!=='undefined'){initMaps();}
$(".detail").hide();$('#sale-schedule').html(frontvpg.manageSchedule($('#sale-schedule').text(),false));$(document.getElementById('add-email')).on('click',function(event){frontvpg.shareAddEmail();event.preventDefault();event.stopPropagation();});$(document).on('change','.email-inputs input',function(){$(this).removeClass('error');});$('.tab').on('click',function(event){frontvpg.hideShowCommitments($(this));});frontvpg.hideShowCommitments($(document.getElementById('tab1')));$('.backArrowLink').on('click',function(event){event.preventDefault();event.stopPropagation();history.back();});$(document.getElementById('submit-share')).on('click',function(event){event.preventDefault();event.stopPropagation();var textareaValue=$(document.getElementById('modal-share')).find('textarea').val();$(document.getElementById('message')).val(textareaValue);var saleId=$(document.getElementById('saleId')).val();var postParams=$('.moremail').serialize();postParams+='&'+$(document.getElementById('message')).serialize();postParams+='&'+$(document.getElementById('saleId')).serialize();$.post('/sale/shareWithEmail',postParams,function(json){if(json['status']==2){$('#share-email-error').html(json['label']);$('.moremail').eq(json['index']).addClass('error');}else{$('.moremail').each(function(){$(this).removeClass('error');});$('#share-email-error').html('');$(document.getElementById('submit-share')).hide();$(document.getElementById('send-message')).html(json['label']);$(document.getElementById('send-message')).show();if(json['status']==1){setTimeout(function(){window.location.href='#!';},2000);}}},'json');});var get_ages_url='/sale/getChildAges';$.ajax({type:'POST',url:get_ages_url,dataType:'json',async:false,success:function(response){if(response['error']=='00'&&response['sessionAges']!=null){frontvpg.defaultChildAges=response['sessionAges'];}}});$('li.offer').on('click',function(){if(frontvpg.targets.mobile){var containerBooking=$(this).find('.containerOffer').find('.hiddenBookingData');var isVisible=(containerBooking.css('display')=='block');if(!isVisible){var $i=$(this).find('a.open-offer').children('i');var iconOpen=$i.attr('data-open');var iconClose=$i.attr('data-close');var containerOffer=$(this).find('.containerOffer');containerOffer.find('.selectCity').show();containerOffer.find('.selectDate').show();$(this).find('.containerOffer').addClass('isOpenBooking');containerBooking.slideDown();$i.removeClass(iconOpen).addClass(iconClose);}}});$('.open-offer').on('click',function(event){if(frontvpg.targets.mobile){event.preventDefault();var $i=$(this).children('i');var iconOpen=$i.attr('data-open');var iconClose=$i.attr('data-close');var containerOffer=$(this).prev('.containerOffer');var containerBooking=containerOffer.find('.hiddenBookingData');var isNotVisible=(!containerBooking.is(':visible'));if(isNotVisible){containerOffer.find('.selectCity').show();containerOffer.find('.selectDate').show();containerBooking.slideDown();$i.removeClass(iconOpen).addClass(iconClose);}else {containerBooking.slideUp();if(containerOffer.find('.selectCity .selectricResponsive').length>0||containerOffer.find('.selectCity .selectricDisabled').length){containerOffer.find('.selectDate').hide();}
$i.removeClass(iconClose).addClass(iconOpen);}
containerOffer.toggleClass('isOpenBooking');}});$(document).on('cssmodal:show',function(event){var activeElement=CSSModal.activeElement;if($(activeElement).attr('id')==frontvpg.modalShareId){$('input.moremail').each(function(){$(this).removeClass('error');});$(document.getElementById('share-email-error')).html('');$(document.getElementById('send-message')).hide();$(document.getElementById('submit-share')).show();$(document.getElementById('message')).val('');$(document.getElementById('share_sale_email_0')).val('');$(document.getElementById('modal-share')).find('textarea').val('');$.each($('.moremail'),function(i,field){if(i>0)$(document.getElementById('share_sale_email_'+i)).remove();});}else if($(activeElement).attr('id')==frontvpg.modalFavoriteId){$(document.getElementById('favorite-error')).html('');$(document.getElementById('btn-submit-favorite')).show();$(document.getElementById('favorite-message')).hide();}});tab_menu=$(document.getElementById('tab-viewer'));tab_content=$(document.getElementById('sale-tab-content'));frontvpg.templateParams={review_title_like:"Les +",review_title_unlike:"Les -",review_vpg_answer:"Posté le",review_comment_title:"Note",review_comment_trip_with_text:", parti(e) ",review_comment_trip_with_6:"en famille",review_comment_trip_with_7:"en famille en bas âge",review_comment_trip_with_8:"en couple",review_comment_trip_with_9:"entre amis",review_withour_comment:"Le client n\'a laissé aucun commentaire",review_total_comment:"Témoignages clients"};frontvpg.manageTabMenu();frontvpg.providerData={};frontvpg.loaded={};frontvpg.built={};frontvpg.hideBookingData=function(item){if(frontvpg.targets.mobile){var offer=$(item).parents('li.offer');offer.find('.selectDate').show();offer.find('.hiddenBookingData').show();offer.find('.containerOffer').addClass('isOpenBooking');offer.find('a.open-offer i').removeClass('icon-corner-more').addClass('icon-corner-less');}}
initSelectBoxBlockOffer();$('.selectricDisabled').on('click',function(event){var magnificPopup=$.magnificPopup.instance;magnificPopup.close();$('.hiddenBookingData').show();});$("select[name='depCityCode']").on('change',function(event){event.preventDefault();frontvpg.selectDepCityAction(this);});if(typeof isAdmin!='undefined'&&!isAdmin){for(offer in aOfferIds){$.fn.scarcity.requestProvider(aOfferIds[offer]);}}
frontvpg.resizePopin=function(){if(frontvpg.popinOpened){if(!frontvpg.targets.mobile)
{$.magnificPopup.instance.close();}
var popin=$('.mfp-wrap').find('.mfp-popup');if(popin.height()>=$(window).height()){popin.height($(window).height()-20);}
var top=($(window).height()-popin.height())/2;popin.css('top',top);}}
if(frontvpg.targets.mobile){$('.containerOffer').each(function(){$(this).find('.selectCity').show();$(this).find('.selectDate').hide();if($(this).find('.selectCity .selectricResponsive').length==0||$(this).find('.selectCity .selectricDisabled').length){$(this).find('.selectDate').show();}});}
frontvpg.oldBreakPoint=frontvpg.currentBreakPoint;$(window).on('resize',function(){frontvpg.resizePopin();clearTimeout(frontvpg.timeoutResize);frontvpg.timeoutResize=setTimeout(function(){frontvpg.windowSize();if(frontvpg.currentBreakPoint!=frontvpg.oldBreakPoint){frontvpg.oldBreakPoint=frontvpg.currentBreakPoint;if(!frontvpg.targets.mobile&&tab_menu.find("a[data-container=content-offers]").hasClass('open')){$("a[data-container=content-address]").trigger("click");}
if(!frontvpg.popinOpened){$('.selectDatePrice').selectric('destroy');$('select.selectChoice').selectric('destroy');initSelectBoxBlockOffer();}
$('.hiddenBookingData').show();$('.isOpenBooking').removeClass('isOpenBooking');if(frontvpg.targets.mobile){$('.hiddenBookingData').hide();var iconClose=$('.open-offer').children('i').attr('data-close');var iconOpen=$('.open-offer').children('i').attr('data-open');$('.open-offer').children('i').removeClass(iconClose).addClass(iconOpen);}}},500);if(reviewActived){frontvpg.manageMarksReviews();}
if(frontvpg.popinOpened)
{var magnificPopup=$.magnificPopup.instance;magnificPopup.close();}
if(typeof frontvpg.cross_sale_slider!=='undefined')
{frontvpg.cross_sale_slider.updateSliderSize();if(frontvpg.cross_sale_slider.currSlideId==0)
{if(frontvpg.targets.mobile)
{frontvpg.cross_sale_slider.goTo(1);}}}});$(".nbChild").on('change',function(event){event.preventDefault();var $container=$(this).parents('div.form-container');var nbShowBlock=$(this).find('option:selected').val();if(typeof frontvpg.defaultChildAges!='undefined'){$.each(frontvpg.defaultChildAges,function(key,item){childAges=item;});if(typeof frontvpg.defaultChildAges[nbShowBlock]!='undefined'){childAges=frontvpg.defaultChildAges[nbShowBlock];}}
if(nbShowBlock>=1){$container.find(".child_age").css('display','block');}else{$container.find(".child_age").css('display','none');}
for(var i=1;i<=4;i++){$container.find(".childAge_"+i).css('display','none');}
for(var i=1;i<=nbShowBlock;i++){$container.find("div.childAge_"+i).css('display','inline-block');if(typeof childAges!='undefined'){sessionAge=childAges.slice((i-1),i);if(typeof sessionAge!='undefined'&&sessionAge.length!=0){$('div.childAge_'+i+' select.selectAge option').removeAttr("selected","selected");$('div.childAge_'+i+' select.selectAge option[value="'+sessionAge+'"]').attr("selected","selected");$('div.childAge_'+i+' .selectric .label').text(sessionAge);$('div.childAge_'+i+' select.selectAge').val(sessionAge);}}}});$childContainer=$('.selectChoice .nbChild');if(typeof $childContainer!='undefined')
{if($('.selectChoice .nbChild').val()>0)
{$('.selectChoice .nbChild').change();}}
$('#open-favorite').on('click',function(){if(!$(this).hasClass('isFavorite')){frontvpg.saveNewDream();}
return false;});$(document.getElementById('moreCommitments')).on('click',function(e){e.preventDefault();if(!$('.moreCommitmentsText').is(':visible')){$('.moreCommitmentsText').fadeIn().css('display','inline-block');$(document.getElementById('moreCommitments')).find('.less').css('display','block');$(document.getElementById('moreCommitments')).find('.more').css('display','none');}else{$('.moreCommitmentsText').fadeOut();$(document.getElementById('moreCommitments')).find('.more').css('display','block');$(document.getElementById('moreCommitments')).find('.less').css('display','none');}});frontvpg.handleProductPageTracking();window.onunload=function(){};$(window).bind("pageshow",function(event){if(event.originalEvent.persisted){window.location.reload();}});var server_date=new Date();frontvpg.registerCommonHandlebarsHelpers(server_date);if($("#sale-crosssell-header").length!=0){frontvpg.initCarouselCrossSell();}
var currentDate=new Date();frontvpg.handlingPendingBookings();});frontvpg.manageArrowTop();frontvpg.modalShare=function(){window.location.href='#'+frontvpg.modalShareId;};frontvpg.modalFavorite=function(){window.location.href='#'+frontvpg.modalFavoriteId;};frontvpg.shareAddEmail=function(){var firstEmail=$(document.getElementById('share_sale_email_0')).clone().val('');firstEmail.attr('id','share_sale_email_'+$('.moremail').length);firstEmail.removeClass('error');$('.email-inputs').append(firstEmail);};$(".more-detail").on('click',function(event){event.preventDefault();$(this).toggleClass("open");if($(this).next("div.detail").css('display')=='none'){$(this).html("Masquer les détails du prix");}else{$(this).html("Afficher les détails du prix");}
$(this).next("div.detail").toggle();});frontvpg.manageTabMenu=function(){if(frontvpg.targets.mobile==true){tab_menu.find('.tab.menu').removeClass('open');$('.content-container').removeClass('open');$("#content-offers").addClass('open');tab_menu.find('.tab.menu[data-container="content-offers"]').addClass('open');}else{tab_menu.find('.tab.menu').removeClass('open');$('.content-container').removeClass('open');frontvpg.addClassById('content-address','open');tab_menu.find('.tab.menu[data-container="content-address"]').addClass('open');}
tab_menu.find('.tab.menu').on('click',function(event){event.preventDefault();if(!$(this).hasClass('open'))
{var that=this;if($('body').hasClass('sticky')){$("html, body").animate({scrollTop:parseInt($('#carousel-sale').height()+1)},600,function(){$('.content-container').removeClass('open');$(document.getElementById($(that).attr('data-container'))).addClass('open');});}else{$('.content-container').removeClass('open');$(document.getElementById($(this).attr('data-container'))).addClass('open');}
tab_menu.find('.tab.menu').removeClass('open');$(this).addClass('open');showGoogleMap();if($(this).attr('data-container')=='content-review'){frontvpg.manageMarksReviews();}}});};$(document.getElementById('sale_details')).find('paragraph div.content_reviews a').on('click',function(e){e.preventDefault();tab_menu.find('.tab.menu[data-container="content-review"]').trigger('click');frontvpg.manageMarksReviews();});$('.map-open-btn').on('click',function(e){e.preventDefault();$(this).parent('#map-container').toggleClass("active");if($('#map-container').hasClass('active')){var totalOffset=parseInt($('#map-container').offset().top);totalOffset-=$(document.getElementById('sale-heading')).height();if($('body').hasClass('sticky')){totalOffset+=parseInt($(document.getElementById('tab-viewer')).height());}
$("html, body").animate({scrollTop:totalOffset},600);}});$(document.getElementById('testimonial-btn')).on('click',function(event){event.preventDefault();var btnContainer=$(document.getElementById('testimonial-btn'));numPage=btnContainer.attr('data-page');var paramsReviews=[infraId,displayType,numPage];var data=frontvpg.getReviewsComment(paramsReviews.join('/'));});frontvpg.manageMarksReviews=function(){if(typeof this.doFirstCall==='undefined'){frontvpg.registerHandlebarsHelpers();var paramsReviews=[infraId,displayType];frontvpg.getReviewsComment(paramsReviews.join('/'),true);this.doFirstCall=true;}
var markScoreContainer=$(document.getElementById('content-review')).find('.stats-left .opinion-score-bar');markScoreContainer.each(function(){var markValue=Math.round((markScoreContainer.width()/nbReview)*Number($(this).next('div.opinion-score').text()));$(this).find('.value').animate({width:markValue},1000);});};frontvpg.hideShowCommitments=function($element){if(frontvpg.targets.mobile){if($element.attr('id')=='tab1'){$('.commitments').hide();}else{$('.commitments').show();}}};frontvpg.getReviewsComment=function(paramsReviews,isFirst){$(".testimonial-bottom").css('visibility','hidden');$('body').prepend('<div class="review_loading"><img src="/s/images/loader.gif"/></div>');$.getJSON('/review/getReviews/'+paramsReviews).done(function(json){frontvpg.buildCommentReview(json);if(!isFirst){numPage++;var btnContainer=$(document.getElementById('testimonial-btn'));btnContainer.attr('data-page',numPage);var reviewsContainer=$(document.getElementById('testimonials-container')).find('.testimonial');if(reviewsContainer.length<=nbReview-1){reviewsContainer.removeClass('last');}else{btnContainer.parent().remove();}}});};frontvpg.buildCommentReview=function(reviewsData){var comments=[];var countElements=reviewsData.results.length;$.each(reviewsData.results,function(i,data)
{if(!--countElements){data.isLast=true;};comments.push(data);});var renderNow=Handlebars.templates['reviewComment']({'currentArray':comments});if(renderNow){$('.review_loading').remove();$(document.getElementById('testimonials-container')).append(renderNow);$(".testimonial-bottom").css('visibility','visible');}};frontvpg.initCarouselCrossSell=function(){if($('#cross-sale-full-width-slider').length===0){return false;}
$('#cross-sale-full-width-slider').html('');frontvpg.cross_sale_slider_spacing=25;frontvpg.cross_sale_slider_breakpoint=293;frontvpg.cross_sale_slider_center_area=0.29;if(frontvpg.targets.mobile||frontvpg.targets.tablet)
{frontvpg.cross_sale_slider_spacing=20;frontvpg.cross_sale_slider_breakpoint='50%';frontvpg.cross_sale_slider_center_area=0.64;}
frontvpg.cross_sale_slider=$('#cross-sale-full-width-slider').royalSlider({arrowsNav:true,controlNavigation:'none',arrowsNavAutoHide:false,sliderDrag:true,navigateByClick:false,numImagesToPreload:4,usePreloader:true,slidesSpacing:frontvpg.cross_sale_slider_spacing,keyboardNavEnabled:true,imageAlignCenter:true,loop:false,transitionSpeed:100,visibleNearby:{enabled:true,centerArea:1,center:true,breakpoint:frontvpg.cross_sale_slider_breakpoint,breakpointCenterArea:frontvpg.cross_sale_slider_center_area,navigateByCenterClick:true}}).data('royalSlider');$('#cross_link_right').on('click',function(){frontvpg.cross_sale_slider.next();});$('#cross_link_left').on('click',function(){frontvpg.cross_sale_slider.prev();});frontvpg.cross_sale_slider.in_request=false;frontvpg.cross_sale_slider.first_run=true;frontvpg.cross_sale_slider.is_last=false;var count=13;if(frontvpg.targets.mobile||frontvpg.targets.tablet)
{count=5;}
var params={"list":3,"count":count,"offset":0};$.ajax({type:'GET',url:providerUrl,crossDomain:true,data:params,dataType:'json',xhrFields:{withCredentials:true}}).done(frontvpg.populateCrossSellSales);};frontvpg.activateSaleMovement=function(activate)
{if(activate)
{frontvpg.cross_sale_slider.ev.on('rsAfterSlideChange',function(event){if(frontvpg.cross_sale_slider.currSlideId>=(frontvpg.cross_sale_slider.numSlides-12)&&frontvpg.cross_sale_slider.numSlides>4&&!frontvpg.cross_sale_slider.is_last)
{var count=13;if(frontvpg.targets.mobile||frontvpg.targets.tablet)
{count=5;}
var params={"list":1,"count":count,"offset":frontvpg.cross_sale_slider.numSlides};if(frontvpg.cross_sale_slider.in_request==false)
{frontvpg.cross_sale_slider.in_request=true;$.ajax({type:'GET',url:providerUrl,crossDomain:true,data:params,dataType:'json',xhrFields:{withCredentials:true}}).done(frontvpg.populateCrossSellSales);}}});frontvpg.cross_sale_slider.first_run=false;if(frontvpg.targets.mobile||frontvpg.targets.tablet)
{frontvpg.cross_sale_slider.goTo(1);}}};frontvpg.populateCrossSellSales=function(jsonResponse){$.each(jsonResponse.results,function(index,sale){if(sale.sale_id!=saleIdFromUrl){sale.isSale=true;sale.isNext=frontvpg.isNextPart(sale);var templateCrossSellHtmlBlock=Handlebars.templates['crossSell']({'sale':sale});frontvpg.cross_sale_slider.appendSlide(templateCrossSellHtmlBlock);}});frontvpg.cross_sale_slider.in_request=false;frontvpg.activateSaleMovement(frontvpg.cross_sale_slider.first_run);if(jsonResponse.results.length==0)
{frontvpg.cross_sale_slider.is_last=true;}};$(window).on('load',function()
{frontvpg.initDatesDispoByDepCity();});frontvpg.selectDepCityAction=function(selectElement)
{$container=$(selectElement).parents('.form-container');$container.find("div.selectDate>div.selectDatePrice").scarcity().trigger('open',[selectElement.value]);};frontvpg.initDatesDispoByDepCity=function()
{$.each($("select[name=depCityCode]"),function()
{if(this.value.length)
{frontvpg.selectDepCityAction(this);}});};$('.bloc-resa').on('submit',function(){var error=[];if($(this).find('[name=depCityCode]').length>0){var depCityCode=$(this).find('[name=depCityCode]').val();if(depCityCode.length==0){error.push("Vous devez choisir une ville de départ.");}}
var disponibility=$(this).find('[name=disponibility]').val();if(disponibility.length==0){error.push("Vous devez choisir une date de départ.");}
if(error.length>0){$('#modal-message').find('.modal-label').html(error[0]);frontvpg.openModal=true;window.location.href='#'+frontvpg.modalMessageId;return false;}
var skin='redesign_bp';if(frontvpg.currentBreakPoint=='mobile'){skin='sitemobile_rdp';}
var store_ages_url='/sale/storeChildAges';var child_ages=[];$child_ages_elements=$(this).find('[name="childrenAge[]"]');$child_nb=$(this).find('[name=nbChildren]')[0];if($child_ages_elements.length>0&&(typeof $child_nb!='undefined')&&$child_nb.value>0){$child_ages_elements.each(function(key,child_age){child_ages.push(child_age.value);});child_ages=child_ages.slice(0,$child_nb.value);$.ajax({type:'POST',url:store_ages_url,data:{'child_ages':child_ages},dataType:'json',async:false});}
$(this).find('[name=skin]').val(skin);var buttonSubmit=$(this).find('input[type=submit]');buttonSubmit.replaceWith('<div class="blockOfferLoading"><img src="/s/images/loader.gif"/></div>');});$(document).on('cssmodal:show',function(event){$(window).unbind('hashchange',frontvpg.myHashChange);event.preventDefault();event.stopPropagation();var activeElement=CSSModal.activeElement;frontvpg.openModal=true;$(activeElement).addClass('open-modal');});frontvpg.handlingPendingBookings=function(){if($("#resumeBookingForm").length){var skin='redesign_bp';if(frontvpg.currentBreakPoint==='mobile'){skin='sitemobile_rdp';}
$("#resumeBookingForm").find('[name=skin]').val(skin);var loaderHeight=$("#page-container").height();$("#resumeBookingLoader").height(loaderHeight);$("#resumeBookingForm").submit();}}
initSelectBoxBlockOffer=function(){if(typeof saleIdFromUrl!='undefined'){var $type='select';if(frontvpg.targets.mobile){$type='popin';}
$('.selectDatePrice').scarcity({type:$type,provider:{sid:saleIdFromUrl}});$('select.selectChoice').customSelectric({disableOnMobile:false,responsive:true,type:$type,maxHeight:$type=='popin'?'inherit':300});}}}(window.jQuery);;(function($){var CLOSE_EVENT='Close',BEFORE_CLOSE_EVENT='BeforeClose',AFTER_CLOSE_EVENT='AfterClose',BEFORE_APPEND_EVENT='BeforeAppend',MARKUP_PARSE_EVENT='MarkupParse',OPEN_EVENT='Open',CHANGE_EVENT='Change',NS='mfp',EVENT_NS='.'+NS,READY_CLASS='mfp-ready',REMOVING_CLASS='mfp-removing',PREVENT_CLOSE_CLASS='mfp-prevent-close';var mfp,MagnificPopup=function(){},_isJQ=!!(window.jQuery),_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f);},_getEl=function(className,appendTo,html,raw){var el=document.createElement('div');el.className='mfp-'+className;if(html){el.innerHTML=html;}
if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo);}}else if(appendTo){appendTo.appendChild(el);}
return el;},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data]);}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace('%title%',mfp.st.tClose));_currPopupType=type;}
return mfp.currTemplate.closeBtn;},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup();mfp.init();$.magnificPopup.instance=mfp;}},supportsTransitions=function(){var s=document.createElement('p').style,v=['ms','O','Moz','Webkit'];if(s['transition']!==undefined){return true;}
while(v.length){if(v.pop()+'Transition'in s){return true;}}
return false;};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isIE7=appVersion.indexOf("MSIE 7.")!==-1;mfp.isIE8=appVersion.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=(/android/gi).test(appVersion);mfp.isIOS=(/iphone|ipad|ipod/gi).test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=(mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));_document=$(document);mfp.popupsCache={};},open:function(data){if(!_body){_body=$(document.body);}
var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0];}
if(item===data.el[0]){mfp.index=i;break;}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0;}
if(mfp.isOpen){mfp.updateItemHTML();return;}
mfp.types=[];_wrapClasses='';if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0);}else{mfp.ev=_document;}
if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={};}
mfp.currTemplate=mfp.popupsCache[data.key];}else{mfp.currTemplate={};}
mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==='auto'?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false;}
if(!mfp.bgOverlay){mfp.bgOverlay=_getEl('bg').on('click'+EVENT_NS,function(){mfp.close();});mfp.wrap=_getEl('wrap').attr('tabindex',-1).on('click'+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close();}});mfp.container=_getEl('container',mfp.wrap);}
mfp.contentContainer=_getEl('content');if(mfp.st.preloader){mfp.preloader=_getEl('preloader',mfp.container,mfp.st.tLoading);}
var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp['init'+n].call(mfp);}
_mfpTrigger('BeforeOpen');if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn());}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type);});_wrapClasses+=' mfp-close-btn-in';}}
if(mfp.st.alignTop){_wrapClasses+=' mfp-align-top';}
if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:'hidden',overflowY:mfp.st.overflowY});}else{mfp.wrap.css({top:_window.scrollTop(),position:'absolute'});}
if(mfp.st.fixedBgPos===false||(mfp.st.fixedBgPos==='auto'&&!mfp.fixedContentPos)){mfp.bgOverlay.css({height:_document.height(),position:'absolute'});}
if(mfp.st.enableEscapeKey){_document.on('keyup'+EVENT_NS,function(e){if(e.keyCode===27){mfp.close();}});}
_window.on('resize'+EVENT_NS,function(){mfp.updateSize();});if(!mfp.st.closeOnContentClick){_wrapClasses+=' mfp-auto-cursor';}
if(_wrapClasses)
mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s;}}}
if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow='hidden';}else{$('body, html').css('overflow','hidden');}}
var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=' mfp-ie7';}
if(classesToadd){mfp._addClassToMFP(classesToadd);}
mfp.updateItemHTML();_mfpTrigger('BuildControls');$('html').css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||_body);mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus();}else{mfp.bgOverlay.addClass(READY_CLASS);}
_document.on('focusin'+EVENT_NS,mfp._onFocusIn);},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data;},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close();},mfp.st.removalDelay);}else{mfp._close();}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+' '+READY_CLASS+' ';mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+' ';}
mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:''};if(mfp.isIE7){$('body, html').css('overflow','');}else{windowStyles.overflow='';}
$('html').css(windowStyles);}
_document.off('keyup'+EVENT_NS+' focusin'+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr('class','mfp-wrap').removeAttr('style');mfp.bgOverlay.attr('class','mfp-bg');mfp.container.attr('class','mfp-container');if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)
mfp.currTemplate.closeBtn.detach();}
if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus();}
mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT);},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css('height',height);mfp.wH=height;}else{mfp.wH=winHeight||_window.height();}
if(!mfp.fixedContentPos){mfp.wrap.css('height',mfp.wH);}
_mfpTrigger('Resize');},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)
mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index);}
var type=item.type;_mfpTrigger('BeforeChange',[mfp.currItem?mfp.currItem.type:'',type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger('FirstMarkupParse',markup);if(markup){mfp.currTemplate[type]=$(markup);}else{mfp.currTemplate[type]=true;}}
if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass('mfp-'+_prevContentType+'-holder');}
var newContent=mfp['get'+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger('AfterChange');},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find('.mfp-close').length){mfp.content.append(_getCloseBtn());}}else{mfp.content=newContent;}}else{mfp.content='';}
_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass('mfp-'+type+'-holder');mfp.contentContainer.append(mfp.content);},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)};}else{type=item.type;item={data:item,src:item.src};}
if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass('mfp-'+types[i])){type=types[i];break;}}
item.src=item.el.attr('data-mfp-src');if(!item.src){item.src=item.el.attr('href');}}
item.type=type||mfp.st.type||'inline';item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger('ElementParse',item);return mfp.items[index];},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options);};if(!options){options={};}
var eName='click.magnificPopup';options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler);}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler);}else{options.items=el;el.off(eName).on(eName,eHandler);}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey)){return;}
var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true;}}else{if(_window.width()<disableOn){return true;}}}
if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation();}}
options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate);}
mfp.open(options);},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass('mfp-s-'+_prevStatus);}
if(!text&&status==='loading'){text=mfp.st.tLoading;}
var data={status:status,text:text};_mfpTrigger('UpdateStatus',data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find('a').on('click',function(e){e.stopImmediatePropagation();});mfp.container.addClass('mfp-s-'+status);_prevStatus=status;}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return;}
var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true;}else{if(!mfp.content||$(target).hasClass('mfp-close')||(mfp.preloader&&target===mfp.preloader[0])){return true;}
if((target!==mfp.content[0]&&!$.contains(mfp.content[0],target))){if(closeOnBg){if($.contains(document,target)){return true;}}}else if(closeOnContent){return true;}}
return false;},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName);},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName);},_hasScrollBar:function(winHeight){return((mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height()));},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus();},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false;}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values);}
_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true;}
arr=key.split('_');if(arr.length>1){var el=template.find(EVENT_NS+'-'+arr[0]);if(el.length>0){var attr=arr[1];if(attr==='replaceWith'){if(el[0]!==value[0]){el.replaceWith(value);}}else if(attr==='img'){if(el.is('img')){el.attr('src',value);}else{el.replaceWith('<img src="'+value+'" class="'+el.attr('class')+'" />');}}else{el.attr(arr[1],value);}}}else{template.find(EVENT_NS+'-'+key).html(value);}});},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.id="mfp-sbm";scrollDiv.style.cssText='width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);}
return mfp.scrollbarSize;}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={};}else{options=$.extend(true,{},options);}
options.isObj=true;options.index=index||0;return this.instance.open(options);},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close();},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options;}
$.extend(this.proto,module.proto);this.modules.push(name);},defaults:{disableOn:0,key:null,midClick:false,mainClass:'',preloader:true,focus:'',closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:'auto',fixedBgPos:'auto',overflowY:'auto',closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:'Close (Esc)',tLoading:'Loading...'}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==='open'){var items,itemOpts=_isJQ?jqEl.data('magnificPopup'):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index];}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate);}
items=items.eq(index);}
mfp._openClick({mfpEl:items},jqEl,itemOpts);}else{if(mfp.isOpen)
mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1));}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data('magnificPopup',options);}else{jqEl[0].magnificPopup=options;}
mfp.addGroup(jqEl,options);}
return jqEl;};var INLINE_NS='inline',_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null;}};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:'hide',markup:'',tNotFound:'Content not found'},proto:{initInline:function(){mfp.types.push(INLINE_NS);_mfpOn(CLOSE_EVENT+'.'+INLINE_NS,function(){_putInlineElementsBack();});},getInline:function(item,template){_putInlineElementsBack();if(item.src){var inlineSt=mfp.st.inline,el=$(item.src);if(el.length){var parent=el[0].parentNode;if(parent&&parent.tagName){if(!_inlinePlaceholder){_hiddenClass=inlineSt.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass='mfp-'+_hiddenClass;}
_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);}
mfp.updateStatus('ready');}else{mfp.updateStatus('error',inlineSt.tNotFound);el=$('<div>');}
item.inlineElement=el;return el;}
mfp.updateStatus('ready');mfp._parseMarkup(template,{},item);return template;}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement('p').style.MozTransform!==undefined;}
return hasMozTransform;};$.magnificPopup.registerModule('zoom',{options:{enabled:false,easing:'ease-in-out',duration:300,opener:function(element){return element.is('img')?element:element.find('img');}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns='.zoom',image;if(!zoomSt.enabled||!mfp.supportsTransition){return;}
var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),transition='all '+(zoomSt.duration/1000)+'s '+zoomSt.easing,cssObj={position:'fixed',zIndex:9999,left:0,top:0,'-webkit-backface-visibility':'hidden'},t='transition';cssObj['-webkit-'+t]=cssObj['-moz-'+t]=cssObj['-o-'+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg;},showMainContent=function(){mfp.content.css('visibility','visible');},openTimeout,animatedImg;_mfpOn('BuildControls'+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css('visibility','hidden');image=mfp._getItemToZoom();if(!image){showMainContent();return;}
animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger('ZoomAnimationEnded');},16);},duration);},16);}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return;}
animatedImg=getElToAnimate(image);}
animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css('visibility','hidden');setTimeout(function(){animatedImg.css(mfp._getOffset());},16);}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove();}
image=null;}});},_allowZoom:function(){return mfp.currItem.type==='image';},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img;}else{return false;}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img;}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem);}
var offset=el.offset();var paddingTop=parseInt(el.css('padding-top'),10);var paddingBottom=parseInt(el.css('padding-bottom'),10);offset.top-=($(window).scrollTop()-paddingTop);var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj['-moz-transform']=obj['transform']='translate('+offset.left+'px,'+offset.top+'px)';}else{obj.left=offset.left;obj.top=offset.top;}
return obj;}}});_checkInstance();})(window.jQuery||window.Zepto);;